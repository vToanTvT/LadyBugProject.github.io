<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LadyBug Firmware Documentation: State Management Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LadyBug Firmware Documentation<span id="projectnumber">&#160;v2.1</span>
   </div>
   <div id="projectbrief">Update data according main board hardware ver2.1</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">State Management Application <div class="ingroups"><a class="el" href="group___a_p_p_l_i_c_a_t_i_o_n___l_a_y_e_r.html">Application Layer</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>EVSE state machine and application control.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for State Management Application:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.png" border="0" usemap="#agroup______a__p__p______s__t__a__t__e______m__a__n__a__g__e__m__e__n__t" loading="lazy" alt=""/></div>
<map name="agroup______a__p__p______s__t__a__t__e______m__a__n__a__g__e__m__e__n__t" id="agroup______a__p__p______s__t__a__t__e______m__a__n__a__g__e__m__e__n__t">
<area shape="rect" href="group___a_p_p_l_i_c_a_t_i_o_n___l_a_y_e_r.html" title="High&#45;level system state management." alt="" coords="5,5,127,32"/>
<area shape="rect" title="EVSE state machine and application control." alt="" coords="175,5,373,32"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:S_5FEVSE_5FCounter_5Ft" id="r_S_5FEVSE_5FCounter_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s___e_v_s_e___counter__t.html">S_EVSE_Counter_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter structure for state timing control.  <a href="struct_s___e_v_s_e___counter__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:S_5FEVSE_5Ft" id="r_S_5FEVSE_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main EVSE state machine structure.  <a href="struct_s___e_v_s_e__t.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaeb940787f48fe3a8f7a2398e205f148d" id="r_gaeb940787f48fe3a8f7a2398e205f148d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaeb940787f48fe3a8f7a2398e205f148d">SAMPLING_TIME_US</a>&#160;&#160;&#160;1000000U/<a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a></td></tr>
<tr class="memdesc:gaeb940787f48fe3a8f7a2398e205f148d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Include required header files.  <br /></td></tr>
<tr class="memitem:gad1a887ae49417c56f32472fa5d928868" id="r_gad1a887ae49417c56f32472fa5d928868"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad1a887ae49417c56f32472fa5d928868">CHG_VOLT_GO_TO_CHARGE_LOW_F32</a>&#160;&#160;&#160;35.0f</td></tr>
<tr class="memitem:gaf4089d6c77152cdb0c95e139df154aa3" id="r_gaf4089d6c77152cdb0c95e139df154aa3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf4089d6c77152cdb0c95e139df154aa3">CHG_VOLT_GO_TO_CHARGE_HIGH_F32</a>&#160;&#160;&#160;80.0f</td></tr>
<tr class="memitem:ga128e09915e4601b36bf3718c9e8ea7a8" id="r_ga128e09915e4601b36bf3718c9e8ea7a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga128e09915e4601b36bf3718c9e8ea7a8">CHG_VOLT_GO_TO_FULCHG_F32</a>&#160;&#160;&#160;83.5f</td></tr>
<tr class="memitem:gad5b9c3fa5e0f328e140d09eaf11fdb2a" id="r_gad5b9c3fa5e0f328e140d09eaf11fdb2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad5b9c3fa5e0f328e140d09eaf11fdb2a">CHG_CURR_GO_TO_FULCHG_F32</a>&#160;&#160;&#160;2.0f</td></tr>
<tr class="memitem:ga53775d255b673d5a4a2add179ccb3249" id="r_ga53775d255b673d5a4a2add179ccb3249"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#gad1a887ae49417c56f32472fa5d928868">CHG_VOLT_GO_TO_CHARGE_LOW_F32</a> / <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>)</td></tr>
<tr class="memitem:gaa478896cbff745ddeda53177d6e8a89b" id="r_gaa478896cbff745ddeda53177d6e8a89b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa478896cbff745ddeda53177d6e8a89b">CHG_VOLT_GO_TO_CHARGE_HIGH_Q15</a>&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#gaf4089d6c77152cdb0c95e139df154aa3">CHG_VOLT_GO_TO_CHARGE_HIGH_F32</a> / <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>)</td></tr>
<tr class="memitem:ga1d9db6d9120c4a1102e674e758251322" id="r_ga1d9db6d9120c4a1102e674e758251322"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1d9db6d9120c4a1102e674e758251322">CHG_VOLT_GO_TO_FULCHG_Q15</a>&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#ga128e09915e4601b36bf3718c9e8ea7a8">CHG_VOLT_GO_TO_FULCHG_F32</a> / <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>)</td></tr>
<tr class="memitem:ga05344069aaa74ce531f9647e1c4c2a4e" id="r_ga05344069aaa74ce531f9647e1c4c2a4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga05344069aaa74ce531f9647e1c4c2a4e">CHG_CURR_GO_TO_FULCHG_Q15</a>&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#gad5b9c3fa5e0f328e140d09eaf11fdb2a">CHG_CURR_GO_TO_FULCHG_F32</a> / <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gacd52246a8e750f96fd70de622a034669">BAT_CURRENT_HIGH_LIMIT_SOFT</a>)</td></tr>
<tr class="memitem:ga5833cae79607f7b55bf964f2bb2f7b17" id="r_ga5833cae79607f7b55bf964f2bb2f7b17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5833cae79607f7b55bf964f2bb2f7b17">STATE_IDLE_DELAY_US</a>&#160;&#160;&#160;2000000U</td></tr>
<tr class="memitem:ga45d0c6a0f8f5c7ce45cd674ddf48abea" id="r_ga45d0c6a0f8f5c7ce45cd674ddf48abea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga45d0c6a0f8f5c7ce45cd674ddf48abea">STATE_HANDSHAKE_DELAY_US</a>&#160;&#160;&#160;20000U</td></tr>
<tr class="memitem:gaacfa78716095c83c1681fd5cc2bd2d3a" id="r_gaacfa78716095c83c1681fd5cc2bd2d3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaacfa78716095c83c1681fd5cc2bd2d3a">STATE_FAULT_DELAY_US</a>&#160;&#160;&#160;5000000U</td></tr>
<tr class="memitem:gabbfb9160e30fce8a4d27eec5aa12c984" id="r_gabbfb9160e30fce8a4d27eec5aa12c984"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabbfb9160e30fce8a4d27eec5aa12c984">STATE_IDLE_DEBOUNCE_US</a>&#160;&#160;&#160;20000U</td></tr>
<tr class="memitem:ga5f0d32f89f79ccad9765b53048f6c53f" id="r_ga5f0d32f89f79ccad9765b53048f6c53f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5f0d32f89f79ccad9765b53048f6c53f">STATE_PFC_START_DEBOUNCE_US</a>&#160;&#160;&#160;20000U</td></tr>
<tr class="memitem:ga8ee746611bc6fd0bbe7441a3ba439ea9" id="r_ga8ee746611bc6fd0bbe7441a3ba439ea9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8ee746611bc6fd0bbe7441a3ba439ea9">STATE_SOFTSTART_DEBOUNCE_US</a>&#160;&#160;&#160;0U</td></tr>
<tr class="memitem:ga3da2882153d0328180fabd64bdc39fb6" id="r_ga3da2882153d0328180fabd64bdc39fb6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3da2882153d0328180fabd64bdc39fb6">STATE_HANDSHAKE_DEBOUNCE_US</a>&#160;&#160;&#160;200U</td></tr>
<tr class="memitem:gaf25f3eba0b4dc276aa22ab0c2e81fdef" id="r_gaf25f3eba0b4dc276aa22ab0c2e81fdef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf25f3eba0b4dc276aa22ab0c2e81fdef">STATE_CHARGING_DEBOUNCE_US</a>&#160;&#160;&#160;200U</td></tr>
<tr class="memitem:gaf18e111fe264ad0cfa09ae9478036f0d" id="r_gaf18e111fe264ad0cfa09ae9478036f0d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf18e111fe264ad0cfa09ae9478036f0d">STATE_FULLYCHARGED_DEBOUNCE_US</a>&#160;&#160;&#160;200U</td></tr>
<tr class="memitem:ga159887338827a4577027c26501ae583f" id="r_ga159887338827a4577027c26501ae583f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga159887338827a4577027c26501ae583f">STATE_FAULT_DEBOUNCE_US</a>&#160;&#160;&#160;200U</td></tr>
<tr class="memitem:ga2992d1401152052cc6e2f19ffd4d3c8f" id="r_ga2992d1401152052cc6e2f19ffd4d3c8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2992d1401152052cc6e2f19ffd4d3c8f">STATE_AUTORECOVERY_DEBOUNCE_US</a>&#160;&#160;&#160;200U</td></tr>
<tr class="memitem:ga26ad1692bc6d0317f9672a70df1e17d0" id="r_ga26ad1692bc6d0317f9672a70df1e17d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga26ad1692bc6d0317f9672a70df1e17d0">STATE_SHUTDOWN_DEBOUNCE_US</a>&#160;&#160;&#160;200U</td></tr>
<tr class="memitem:gadfaeb85de9c471f35eb44d0f478e1976" id="r_gadfaeb85de9c471f35eb44d0f478e1976"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadfaeb85de9c471f35eb44d0f478e1976">FAULT_AUTO_RECOVERY_LIMIT</a>&#160;&#160;&#160;5U</td></tr>
<tr class="memitem:ga97248e533a4632e4a59c69aa17d807f0" id="r_ga97248e533a4632e4a59c69aa17d807f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga97248e533a4632e4a59c69aa17d807f0">STATE_TRANSITION_IDLE_TO_PFC_START</a>&#160;&#160;&#160;( (g_bat_voltage_inst.value_q15 &gt; <a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>) &amp;&amp; (g_bat_voltage_inst.value_q15 &lt; <a class="el" href="#gaa478896cbff745ddeda53177d6e8a89b">CHG_VOLT_GO_TO_CHARGE_HIGH_Q15</a>) &amp;&amp; (g_dc_voltage_inst.value_q15 &lt; <a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>) )</td></tr>
<tr class="memitem:ga5ab7eb244a42762a4dcb3e5be8de6c00" id="r_ga5ab7eb244a42762a4dcb3e5be8de6c00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5ab7eb244a42762a4dcb3e5be8de6c00">STATE_TRANSITION_PFC_START_TO_SOFTSTART</a>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:gacf4b9b95993392bbab98db0b2f5cafe1" id="r_gacf4b9b95993392bbab98db0b2f5cafe1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacf4b9b95993392bbab98db0b2f5cafe1">STATE_TRANSITION_SOFTSTART_TO_HANDSHAKE</a>&#160;&#160;&#160;( (g_dc_voltage_inst.value_q15 &gt; g_bat_voltage_inst.value_q15) )</td></tr>
<tr class="memitem:gacc047e604750ff7d7acf5151e86f0651" id="r_gacc047e604750ff7d7acf5151e86f0651"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacc047e604750ff7d7acf5151e86f0651">STATE_TRANSITION_CHARGING_TO_FULLYCHARGED</a>&#160;&#160;&#160;( (g_dc_voltage_inst.value_q15 &gt; <a class="el" href="#ga1d9db6d9120c4a1102e674e758251322">CHG_VOLT_GO_TO_FULCHG_Q15</a>) &amp;&amp; (g_bat_current_inst.value_q15 &lt; <a class="el" href="#ga05344069aaa74ce531f9647e1c4c2a4e">CHG_CURR_GO_TO_FULCHG_Q15</a>) )</td></tr>
<tr class="memitem:gab002f32c595f975b6ab08ea627de553c" id="r_gab002f32c595f975b6ab08ea627de553c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab002f32c595f975b6ab08ea627de553c">STATE_TRANSITION_FULLYCHARGED_TO_IDLE</a>&#160;&#160;&#160;( (g_bat_voltage_inst.value_q15 &gt; <a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>) &amp;&amp; (g_bat_voltage_inst.value_q15 &lt; <a class="el" href="#gaa478896cbff745ddeda53177d6e8a89b">CHG_VOLT_GO_TO_CHARGE_HIGH_Q15</a>) &amp;&amp; (g_dc_voltage_inst.value_q15 &lt; <a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>) )</td></tr>
<tr class="memitem:ga80dba104e8b75d89a55c4d348efbffb1" id="r_ga80dba104e8b75d89a55c4d348efbffb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga80dba104e8b75d89a55c4d348efbffb1">STATE_WAIT_START_UPDATE_STATE</a>&#160;&#160;&#160;10000U</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaf385e9d5b5e5b8d6dcb7451515bc0fde" id="r_gaf385e9d5b5e5b8d6dcb7451515bc0fde"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf385e9d5b5e5b8d6dcb7451515bc0fde">E_EVSE_State_t</a> { <br />
&#160;&#160;<a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea7ea7f61b9a54d256ba69990634ca3714">EVSE_STATE_IDLE</a> = 0
, <a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea125ba52f6194c428ef28b286650f547a">EVSE_STATE_PFC_START</a>
, <a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea5962155a1ec157285149f69bc87671a4">EVSE_STATE_SOFTSTART</a>
, <a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaac24e6c843e8db3da9d93e83666de969">EVSE_STATE_HANDSHAKE</a>
, <br />
&#160;&#160;<a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea196b2f6ae2277f1743460bb9e7cf4c77">EVSE_STATE_CHARGING</a>
, <a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea88cfcc12511ac653fe4817027cea7134">EVSE_STATE_FULLYCHARGED</a>
, <a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea2f91d6a104e482f39032efdaf9097f89">EVSE_STATE_FAULT</a>
, <a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaa68c845a6d1ea29861e4c54b71f839eb">EVSE_STATE_AUTORECOVERY</a>
, <br />
&#160;&#160;<a class="el" href="#ggaf385e9d5b5e5b8d6dcb7451515bc0fdea30c5faf504b055cb609fb51a2e77ec56">EVSE_STATE_SHUTDOWN</a>
<br />
 }</td></tr>
<tr class="memdesc:gaf385e9d5b5e5b8d6dcb7451515bc0fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public macro definitions.  <a href="#gaf385e9d5b5e5b8d6dcb7451515bc0fde">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab6279279ac9e404eedf7848ce01d529c" id="r_gab6279279ac9e404eedf7848ce01d529c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab6279279ac9e404eedf7848ce01d529c">state_init</a> (<a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *pEVSE, <a class="el" href="#gaf385e9d5b5e5b8d6dcb7451515bc0fde">E_EVSE_State_t</a> initialState)</td></tr>
<tr class="memdesc:gab6279279ac9e404eedf7848ce01d529c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global function prototypes.  <br /></td></tr>
<tr class="memitem:gafc5058be8e5904fe82c000699ae798d8" id="r_gafc5058be8e5904fe82c000699ae798d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafc5058be8e5904fe82c000699ae798d8">state_update</a> (<a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *pEVSE)</td></tr>
<tr class="memdesc:gafc5058be8e5904fe82c000699ae798d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update EVSE state machine.  <br /></td></tr>
<tr class="memitem:ga8a7c85b9c345204d44030fb96316a5eb" id="r_ga8a7c85b9c345204d44030fb96316a5eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8a7c85b9c345204d44030fb96316a5eb">EVSE_application_process</a> (<a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *evse)</td></tr>
<tr class="memdesc:ga8a7c85b9c345204d44030fb96316a5eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">EVSE application processing handler.  <br /></td></tr>
<tr class="memitem:ga3d5254d06dbab993dda09f25f550106c" id="r_ga3d5254d06dbab993dda09f25f550106c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_n_d_i_c_a_t_o_r.html#ga25ed4e6b8baeaf04ee5f7c03faed0ffa">E_Indicator_Mode_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3d5254d06dbab993dda09f25f550106c">state_get_led_mode_</a> (<a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *pEVSE)</td></tr>
<tr class="memdesc:ga3d5254d06dbab993dda09f25f550106c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get LED mode corresponding to current EVSE state.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga4c3d9d6ec4fb0b0400ba95634c1b9ac3" id="r_ga4c3d9d6ec4fb0b0400ba95634c1b9ac3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4c3d9d6ec4fb0b0400ba95634c1b9ac3">thisEVSE</a></td></tr>
<tr class="memdesc:ga4c3d9d6ec4fb0b0400ba95634c1b9ac3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable declarations.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-member-group" class="groupheader"><a id="member-group" name="member-group"></a>
State Handler Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Individual handlers for each EVSE state. </p>
</td></tr>
<tr class="memitem:ga25f2b5c68a1ec0310d97a37e6309f183" id="r_ga25f2b5c68a1ec0310d97a37e6309f183"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga25f2b5c68a1ec0310d97a37e6309f183">state_idleHandle</a> ()</td></tr>
<tr class="memdesc:ga25f2b5c68a1ec0310d97a37e6309f183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle IDLE state operations (PFC comp on, PFC relay off, fan enable, LLC standby)  <br /></td></tr>
<tr class="memitem:gac044c2a9b23a166045e549e87cf16015" id="r_gac044c2a9b23a166045e549e87cf16015"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac044c2a9b23a166045e549e87cf16015">state_pfc_startHandle</a> ()</td></tr>
<tr class="memdesc:gac044c2a9b23a166045e549e87cf16015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle PFC_START state operations (fan enable, PFC comp off, PFC relay on)  <br /></td></tr>
<tr class="memitem:ga03b668343def8a556453bf8f687d1f34" id="r_ga03b668343def8a556453bf8f687d1f34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga03b668343def8a556453bf8f687d1f34">state_softstartHandle</a> ()</td></tr>
<tr class="memdesc:ga03b668343def8a556453bf8f687d1f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle SOFTSTART state operations (LLC soft-start with integral update)  <br /></td></tr>
<tr class="memitem:gad96831e426a2010e8f1da8669cf9ec46" id="r_gad96831e426a2010e8f1da8669cf9ec46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad96831e426a2010e8f1da8669cf9ec46">state_handshakeHandle</a> ()</td></tr>
<tr class="memdesc:gad96831e426a2010e8f1da8669cf9ec46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle HANDSHAKE state operations (LLC relay on)  <br /></td></tr>
<tr class="memitem:ga1f1e0e52e3b18a3fc2ecd5b204913f16" id="r_ga1f1e0e52e3b18a3fc2ecd5b204913f16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f1e0e52e3b18a3fc2ecd5b204913f16">state_chargingHandle</a> ()</td></tr>
<tr class="memdesc:ga1f1e0e52e3b18a3fc2ecd5b204913f16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle CHARGING state operations (PWM enable, LLC hybrid PI regulator)  <br /></td></tr>
<tr class="memitem:gaa609d54e2438e5450f96fd281720c5cf" id="r_gaa609d54e2438e5450f96fd281720c5cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa609d54e2438e5450f96fd281720c5cf">state_fullychargedHandle</a> ()</td></tr>
<tr class="memdesc:gaa609d54e2438e5450f96fd281720c5cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle FULLYCHARGED state operations (LLC relay off, PFC comp on, PFC relay off, LLC standby)  <br /></td></tr>
<tr class="memitem:ga55640c3a709e22874c844ffee4440939" id="r_ga55640c3a709e22874c844ffee4440939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga55640c3a709e22874c844ffee4440939">state_faultHandle</a> ()</td></tr>
<tr class="memdesc:ga55640c3a709e22874c844ffee4440939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle FAULT state operations (safe shutdown: relays off, PFC comp on, LLC standby)  <br /></td></tr>
<tr class="memitem:gae908ff70c6b0b9ba54ec69dbbceca07e" id="r_gae908ff70c6b0b9ba54ec69dbbceca07e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae908ff70c6b0b9ba54ec69dbbceca07e">state_autorecoveryHandle</a> ()</td></tr>
<tr class="memdesc:gae908ff70c6b0b9ba54ec69dbbceca07e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle AUTORECOVERY state operations (waiting for fault release conditions)  <br /></td></tr>
<tr class="memitem:ga1dc8f3e307384996bd6c0f4bcf9c8704" id="r_ga1dc8f3e307384996bd6c0f4bcf9c8704"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1dc8f3e307384996bd6c0f4bcf9c8704">state_shutdownHandle</a> ()</td></tr>
<tr class="memdesc:ga1dc8f3e307384996bd6c0f4bcf9c8704"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle SHUTDOWN state operations (permanent shutdown, LLC standby)  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-member-group" class="groupheader"><a id="member-group" name="member-group"></a>
Utility Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Helper functions for timing control. </p>
</td></tr>
<tr class="memitem:ga5e3af4f6ebe90cec1287b588d1ef1bde" id="r_ga5e3af4f6ebe90cec1287b588d1ef1bde"><td class="memItemLeft" align="right" valign="top">_Bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5e3af4f6ebe90cec1287b588d1ef1bde">state_isDelayFinished</a> (uint32_t *p_counter, const uint32_t delay_ms, const uint32_t sampling_time_ms)</td></tr>
<tr class="memdesc:ga5e3af4f6ebe90cec1287b588d1ef1bde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if delay time has finished.  <br /></td></tr>
<tr class="memitem:ga1f3f76f448b8dc2495b4c6fa50d5f204" id="r_ga1f3f76f448b8dc2495b4c6fa50d5f204"><td class="memItemLeft" align="right" valign="top">_Bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f3f76f448b8dc2495b4c6fa50d5f204">state_isDebounceFinished</a> (_Bool condition, uint32_t timeout, uint32_t *counter)</td></tr>
<tr class="memdesc:ga1f3f76f448b8dc2495b4c6fa50d5f204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if debounce condition has finished.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>EVSE state machine and application control. </p>
<p>This module implements the main application state machine for EVSE (Electric Vehicle Supply Equipment) system with:</p><ul>
<li>9 operational states (IDLE, PFC_START, SOFTSTART, HANDSHAKE, CHARGING, FULLYCHARGED, FAULT, AUTORECOVERY, SHUTDOWN)</li>
<li>State transition logic with debounce and delay mechanisms</li>
<li>Voltage and current threshold-based transitions</li>
<li>Fault handling and auto-recovery with retry limit</li>
<li>Integration with all middleware layers (LLC, Power Control, Fault Management, Measurement, Indicator, Peripheral)</li>
<li>Application-level orchestration of charging process</li>
</ul>
<dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 13, 2025 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>EVSELab Co. Jsc. </dd></dl>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="gad5b9c3fa5e0f328e140d09eaf11fdb2a" name="gad5b9c3fa5e0f328e140d09eaf11fdb2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5b9c3fa5e0f328e140d09eaf11fdb2a">&#9670;&#160;</a></span>CHG_CURR_GO_TO_FULCHG_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHG_CURR_GO_TO_FULCHG_F32&#160;&#160;&#160;2.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga05344069aaa74ce531f9647e1c4c2a4e" name="ga05344069aaa74ce531f9647e1c4c2a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05344069aaa74ce531f9647e1c4c2a4e">&#9670;&#160;</a></span>CHG_CURR_GO_TO_FULCHG_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHG_CURR_GO_TO_FULCHG_Q15&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#gad5b9c3fa5e0f328e140d09eaf11fdb2a">CHG_CURR_GO_TO_FULCHG_F32</a> / <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gacd52246a8e750f96fd70de622a034669">BAT_CURRENT_HIGH_LIMIT_SOFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Full charge current (Q15) </p>

</div>
</div>
<a id="gaf4089d6c77152cdb0c95e139df154aa3" name="gaf4089d6c77152cdb0c95e139df154aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4089d6c77152cdb0c95e139df154aa3">&#9670;&#160;</a></span>CHG_VOLT_GO_TO_CHARGE_HIGH_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHG_VOLT_GO_TO_CHARGE_HIGH_F32&#160;&#160;&#160;80.0f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max voltage to start charging (V) </p>

</div>
</div>
<a id="gaa478896cbff745ddeda53177d6e8a89b" name="gaa478896cbff745ddeda53177d6e8a89b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa478896cbff745ddeda53177d6e8a89b">&#9670;&#160;</a></span>CHG_VOLT_GO_TO_CHARGE_HIGH_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHG_VOLT_GO_TO_CHARGE_HIGH_Q15&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#gaf4089d6c77152cdb0c95e139df154aa3">CHG_VOLT_GO_TO_CHARGE_HIGH_F32</a> / <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>High charge threshold (Q15) </p>

</div>
</div>
<a id="gad1a887ae49417c56f32472fa5d928868" name="gad1a887ae49417c56f32472fa5d928868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1a887ae49417c56f32472fa5d928868">&#9670;&#160;</a></span>CHG_VOLT_GO_TO_CHARGE_LOW_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHG_VOLT_GO_TO_CHARGE_LOW_F32&#160;&#160;&#160;35.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga53775d255b673d5a4a2add179ccb3249" name="ga53775d255b673d5a4a2add179ccb3249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53775d255b673d5a4a2add179ccb3249">&#9670;&#160;</a></span>CHG_VOLT_GO_TO_CHARGE_LOW_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHG_VOLT_GO_TO_CHARGE_LOW_Q15&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#gad1a887ae49417c56f32472fa5d928868">CHG_VOLT_GO_TO_CHARGE_LOW_F32</a> / <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Low charge threshold (Q15) </p>

</div>
</div>
<a id="ga128e09915e4601b36bf3718c9e8ea7a8" name="ga128e09915e4601b36bf3718c9e8ea7a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga128e09915e4601b36bf3718c9e8ea7a8">&#9670;&#160;</a></span>CHG_VOLT_GO_TO_FULCHG_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHG_VOLT_GO_TO_FULCHG_F32&#160;&#160;&#160;83.5f</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga1d9db6d9120c4a1102e674e758251322" name="ga1d9db6d9120c4a1102e674e758251322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d9db6d9120c4a1102e674e758251322">&#9670;&#160;</a></span>CHG_VOLT_GO_TO_FULCHG_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHG_VOLT_GO_TO_FULCHG_Q15&#160;&#160;&#160;<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gac863d74a9c184d73cd19f50725219974">_q15</a>(<a class="el" href="#ga128e09915e4601b36bf3718c9e8ea7a8">CHG_VOLT_GO_TO_FULCHG_F32</a> / <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Full charge voltage (Q15) </p>

</div>
</div>
<a id="gadfaeb85de9c471f35eb44d0f478e1976" name="gadfaeb85de9c471f35eb44d0f478e1976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadfaeb85de9c471f35eb44d0f478e1976">&#9670;&#160;</a></span>FAULT_AUTO_RECOVERY_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAULT_AUTO_RECOVERY_LIMIT&#160;&#160;&#160;5U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum auto-recovery attempts </p>

</div>
</div>
<a id="gaeb940787f48fe3a8f7a2398e205f148d" name="gaeb940787f48fe3a8f7a2398e205f148d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb940787f48fe3a8f7a2398e205f148d">&#9670;&#160;</a></span>SAMPLING_TIME_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAMPLING_TIME_US&#160;&#160;&#160;1000000U/<a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Include required header files. </p>
<p>Public constant definitions. </p><dl class="section note"><dt>Note</dt><dd>State machine timing and transition parameters. Sampling time period (100 us) </dd></dl>

</div>
</div>
<a id="ga2992d1401152052cc6e2f19ffd4d3c8f" name="ga2992d1401152052cc6e2f19ffd4d3c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2992d1401152052cc6e2f19ffd4d3c8f">&#9670;&#160;</a></span>STATE_AUTORECOVERY_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_AUTORECOVERY_DEBOUNCE_US&#160;&#160;&#160;200U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AUTORECOVERY debounce time (20 ms) </p>

</div>
</div>
<a id="gaf25f3eba0b4dc276aa22ab0c2e81fdef" name="gaf25f3eba0b4dc276aa22ab0c2e81fdef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf25f3eba0b4dc276aa22ab0c2e81fdef">&#9670;&#160;</a></span>STATE_CHARGING_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_CHARGING_DEBOUNCE_US&#160;&#160;&#160;200U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CHARGING debounce time (20 ms) </p>

</div>
</div>
<a id="ga159887338827a4577027c26501ae583f" name="ga159887338827a4577027c26501ae583f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga159887338827a4577027c26501ae583f">&#9670;&#160;</a></span>STATE_FAULT_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_FAULT_DEBOUNCE_US&#160;&#160;&#160;200U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FAULT debounce time (20 ms) </p>

</div>
</div>
<a id="gaacfa78716095c83c1681fd5cc2bd2d3a" name="gaacfa78716095c83c1681fd5cc2bd2d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaacfa78716095c83c1681fd5cc2bd2d3a">&#9670;&#160;</a></span>STATE_FAULT_DELAY_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_FAULT_DELAY_US&#160;&#160;&#160;5000000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FAULT state delay (5 seconds) </p>

</div>
</div>
<a id="gaf18e111fe264ad0cfa09ae9478036f0d" name="gaf18e111fe264ad0cfa09ae9478036f0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf18e111fe264ad0cfa09ae9478036f0d">&#9670;&#160;</a></span>STATE_FULLYCHARGED_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_FULLYCHARGED_DEBOUNCE_US&#160;&#160;&#160;200U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FULLYCHARGED debounce time (20 ms) </p>

</div>
</div>
<a id="ga3da2882153d0328180fabd64bdc39fb6" name="ga3da2882153d0328180fabd64bdc39fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3da2882153d0328180fabd64bdc39fb6">&#9670;&#160;</a></span>STATE_HANDSHAKE_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_HANDSHAKE_DEBOUNCE_US&#160;&#160;&#160;200U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HANDSHAKE debounce time (20 ms) </p>

</div>
</div>
<a id="ga45d0c6a0f8f5c7ce45cd674ddf48abea" name="ga45d0c6a0f8f5c7ce45cd674ddf48abea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45d0c6a0f8f5c7ce45cd674ddf48abea">&#9670;&#160;</a></span>STATE_HANDSHAKE_DELAY_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_HANDSHAKE_DELAY_US&#160;&#160;&#160;20000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HANDSHAKE state delay (20 ms) </p>

</div>
</div>
<a id="gabbfb9160e30fce8a4d27eec5aa12c984" name="gabbfb9160e30fce8a4d27eec5aa12c984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabbfb9160e30fce8a4d27eec5aa12c984">&#9670;&#160;</a></span>STATE_IDLE_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_IDLE_DEBOUNCE_US&#160;&#160;&#160;20000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IDLE debounce time (2 seconds) </p>

</div>
</div>
<a id="ga5833cae79607f7b55bf964f2bb2f7b17" name="ga5833cae79607f7b55bf964f2bb2f7b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5833cae79607f7b55bf964f2bb2f7b17">&#9670;&#160;</a></span>STATE_IDLE_DELAY_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_IDLE_DELAY_US&#160;&#160;&#160;2000000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IDLE state delay (2 seconds) </p>

</div>
</div>
<a id="ga5f0d32f89f79ccad9765b53048f6c53f" name="ga5f0d32f89f79ccad9765b53048f6c53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f0d32f89f79ccad9765b53048f6c53f">&#9670;&#160;</a></span>STATE_PFC_START_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_PFC_START_DEBOUNCE_US&#160;&#160;&#160;20000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PFC_START debounce time (2 seconds) </p>

</div>
</div>
<a id="ga26ad1692bc6d0317f9672a70df1e17d0" name="ga26ad1692bc6d0317f9672a70df1e17d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26ad1692bc6d0317f9672a70df1e17d0">&#9670;&#160;</a></span>STATE_SHUTDOWN_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_SHUTDOWN_DEBOUNCE_US&#160;&#160;&#160;200U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SHUTDOWN debounce time (20 ms) </p>

</div>
</div>
<a id="ga8ee746611bc6fd0bbe7441a3ba439ea9" name="ga8ee746611bc6fd0bbe7441a3ba439ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ee746611bc6fd0bbe7441a3ba439ea9">&#9670;&#160;</a></span>STATE_SOFTSTART_DEBOUNCE_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_SOFTSTART_DEBOUNCE_US&#160;&#160;&#160;0U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SOFTSTART debounce time (0 ms) </p>

</div>
</div>
<a id="gacc047e604750ff7d7acf5151e86f0651" name="gacc047e604750ff7d7acf5151e86f0651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc047e604750ff7d7acf5151e86f0651">&#9670;&#160;</a></span>STATE_TRANSITION_CHARGING_TO_FULLYCHARGED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_TRANSITION_CHARGING_TO_FULLYCHARGED&#160;&#160;&#160;( (g_dc_voltage_inst.value_q15 &gt; <a class="el" href="#ga1d9db6d9120c4a1102e674e758251322">CHG_VOLT_GO_TO_FULCHG_Q15</a>) &amp;&amp; (g_bat_current_inst.value_q15 &lt; <a class="el" href="#ga05344069aaa74ce531f9647e1c4c2a4e">CHG_CURR_GO_TO_FULCHG_Q15</a>) )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CHARGING → FULLYCHARGED condition </p>

</div>
</div>
<a id="gab002f32c595f975b6ab08ea627de553c" name="gab002f32c595f975b6ab08ea627de553c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab002f32c595f975b6ab08ea627de553c">&#9670;&#160;</a></span>STATE_TRANSITION_FULLYCHARGED_TO_IDLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_TRANSITION_FULLYCHARGED_TO_IDLE&#160;&#160;&#160;( (g_bat_voltage_inst.value_q15 &gt; <a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>) &amp;&amp; (g_bat_voltage_inst.value_q15 &lt; <a class="el" href="#gaa478896cbff745ddeda53177d6e8a89b">CHG_VOLT_GO_TO_CHARGE_HIGH_Q15</a>) &amp;&amp; (g_dc_voltage_inst.value_q15 &lt; <a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>) )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FULLYCHARGED → IDLE condition </p>

</div>
</div>
<a id="ga97248e533a4632e4a59c69aa17d807f0" name="ga97248e533a4632e4a59c69aa17d807f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97248e533a4632e4a59c69aa17d807f0">&#9670;&#160;</a></span>STATE_TRANSITION_IDLE_TO_PFC_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_TRANSITION_IDLE_TO_PFC_START&#160;&#160;&#160;( (g_bat_voltage_inst.value_q15 &gt; <a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>) &amp;&amp; (g_bat_voltage_inst.value_q15 &lt; <a class="el" href="#gaa478896cbff745ddeda53177d6e8a89b">CHG_VOLT_GO_TO_CHARGE_HIGH_Q15</a>) &amp;&amp; (g_dc_voltage_inst.value_q15 &lt; <a class="el" href="#ga53775d255b673d5a4a2add179ccb3249">CHG_VOLT_GO_TO_CHARGE_LOW_Q15</a>) )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IDLE → PFC_START condition </p>

</div>
</div>
<a id="ga5ab7eb244a42762a4dcb3e5be8de6c00" name="ga5ab7eb244a42762a4dcb3e5be8de6c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ab7eb244a42762a4dcb3e5be8de6c00">&#9670;&#160;</a></span>STATE_TRANSITION_PFC_START_TO_SOFTSTART</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_TRANSITION_PFC_START_TO_SOFTSTART&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PFC_START → SOFTSTART condition (always true) </p>

</div>
</div>
<a id="gacf4b9b95993392bbab98db0b2f5cafe1" name="gacf4b9b95993392bbab98db0b2f5cafe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf4b9b95993392bbab98db0b2f5cafe1">&#9670;&#160;</a></span>STATE_TRANSITION_SOFTSTART_TO_HANDSHAKE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_TRANSITION_SOFTSTART_TO_HANDSHAKE&#160;&#160;&#160;( (g_dc_voltage_inst.value_q15 &gt; g_bat_voltage_inst.value_q15) )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SOFTSTART → HANDSHAKE condition </p>

</div>
</div>
<a id="ga80dba104e8b75d89a55c4d348efbffb1" name="ga80dba104e8b75d89a55c4d348efbffb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80dba104e8b75d89a55c4d348efbffb1">&#9670;&#160;</a></span>STATE_WAIT_START_UPDATE_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_WAIT_START_UPDATE_STATE&#160;&#160;&#160;10000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait time before starting state updates (1s) </p>

</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="gaf385e9d5b5e5b8d6dcb7451515bc0fde" name="gaf385e9d5b5e5b8d6dcb7451515bc0fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf385e9d5b5e5b8d6dcb7451515bc0fde">&#9670;&#160;</a></span>E_EVSE_State_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gaf385e9d5b5e5b8d6dcb7451515bc0fde">E_EVSE_State_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public macro definitions. </p>
<p>Type definitions used in State Management module.</p>
<p>EVSE operational states.</p>
<p>Defines all possible states of the EVSE system:</p><ul>
<li>IDLE: System ready, waiting for battery connection</li>
<li>PFC_START: Power Factor Correction stage starting</li>
<li>SOFTSTART: LLC soft-start phase to prevent inrush current</li>
<li>HANDSHAKE: Pre-charging phase, relay engagement</li>
<li>CHARGING: Active charging with CC/CV control</li>
<li>FULLYCHARGED: Charging complete, battery at target voltage/current</li>
<li>FAULT: Fault detected (OVP, UVP, OCP, OTP, etc.)</li>
<li>AUTORECOVERY: Attempting automatic fault recovery</li>
<li>SHUTDOWN: Permanent shutdown due to critical fault </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea7ea7f61b9a54d256ba69990634ca3714" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea7ea7f61b9a54d256ba69990634ca3714"></a>EVSE_STATE_IDLE&#160;</td><td class="fielddoc"><p>Idle state - ready to start </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea125ba52f6194c428ef28b286650f547a" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea125ba52f6194c428ef28b286650f547a"></a>EVSE_STATE_PFC_START&#160;</td><td class="fielddoc"><p>PFC starting phase </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea5962155a1ec157285149f69bc87671a4" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea5962155a1ec157285149f69bc87671a4"></a>EVSE_STATE_SOFTSTART&#160;</td><td class="fielddoc"><p>LLC soft-start phase </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaac24e6c843e8db3da9d93e83666de969" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaac24e6c843e8db3da9d93e83666de969"></a>EVSE_STATE_HANDSHAKE&#160;</td><td class="fielddoc"><p>Pre-charging handshake </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea196b2f6ae2277f1743460bb9e7cf4c77" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea196b2f6ae2277f1743460bb9e7cf4c77"></a>EVSE_STATE_CHARGING&#160;</td><td class="fielddoc"><p>Active charging state </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea88cfcc12511ac653fe4817027cea7134" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea88cfcc12511ac653fe4817027cea7134"></a>EVSE_STATE_FULLYCHARGED&#160;</td><td class="fielddoc"><p>Fully charged state </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea2f91d6a104e482f39032efdaf9097f89" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea2f91d6a104e482f39032efdaf9097f89"></a>EVSE_STATE_FAULT&#160;</td><td class="fielddoc"><p>Fault detected state </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaa68c845a6d1ea29861e4c54b71f839eb" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdeaa68c845a6d1ea29861e4c54b71f839eb"></a>EVSE_STATE_AUTORECOVERY&#160;</td><td class="fielddoc"><p>Auto-recovery attempt </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea30c5faf504b055cb609fb51a2e77ec56" name="ggaf385e9d5b5e5b8d6dcb7451515bc0fdea30c5faf504b055cb609fb51a2e77ec56"></a>EVSE_STATE_SHUTDOWN&#160;</td><td class="fielddoc"><p>Shutdown state </p>
</td></tr>
</table>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga8a7c85b9c345204d44030fb96316a5eb" name="ga8a7c85b9c345204d44030fb96316a5eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a7c85b9c345204d44030fb96316a5eb">&#9670;&#160;</a></span>EVSE_application_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVSE_application_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *</td>          <td class="paramname"><span class="paramname"><em>evse</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EVSE application processing handler. </p>
<p>Application layer entry point that handles:</p><ul>
<li>LLC mode selection during startup (initFlag == false)</li>
<li>Transition to periodic state updates after initialization delay</li>
<li>Integration of all middleware layers</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">evse</td><td>Pointer to EVSE state structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function in main loop ISR at fixed rate (10kHz typical) </dd>
<dd>
Waits for STATE_WAIT_START_UPDATE_STATE before starting <a class="el" href="#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine.">state_update()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga8a7c85b9c345204d44030fb96316a5eb_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga8a7c85b9c345204d44030fb96316a5eb_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga8a7c85b9c345204d44030fb96316a5eb_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga8a7c85b9c345204d44030fb96316a5eb_cgraph">
<area shape="rect" title="EVSE application processing handler." alt="" coords="5,409,185,436"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga9d8a8d24fe7974b4f9c60db897d689cc" title="LLC module function implementations." alt="" coords="267,359,350,385"/>
<area shape="poly" title=" " alt="" coords="154,406,252,383,253,388,155,411"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gaf9b7ebe5587e2acd7077f8ab54023a50" title="Select initial LLC operating mode at startup." alt="" coords="233,409,385,436"/>
<area shape="poly" title=" " alt="" coords="185,420,217,420,217,425,185,425"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="261,460,357,487"/>
<area shape="poly" title=" " alt="" coords="155,434,246,456,245,461,154,439"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#gadd66ff8b83b7d62ace627df52da6ad7c" title="Determine if fault should be logged to history." alt="" coords="457,56,584,83"/>
<area shape="poly" title=" " alt="" coords="356,464,371,457,383,446,399,424,409,402,418,358,415,315,405,271,396,227,393,183,403,138,414,116,431,93,442,83,445,87,435,96,419,118,408,140,399,184,402,227,411,270,420,314,423,358,414,403,403,427,387,450,374,461,359,468"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#ga2ef8a4e52363253bce2a4ceb62aa94fb" title="Check if fault conditions have cleared." alt="" coords="470,107,572,133"/>
<area shape="poly" title=" " alt="" coords="356,463,371,456,383,446,406,408,414,371,412,334,406,296,399,259,397,221,406,182,431,143,453,128,456,132,435,147,411,184,403,221,404,258,411,296,418,333,420,371,411,410,387,450,374,461,359,468"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#ga8ad70d1197990240e6cbb899640152fa" title="Enter fault standby/reset state." alt="" coords="468,157,574,184"/>
<area shape="poly" title=" " alt="" coords="356,463,371,456,383,446,403,415,411,384,410,353,406,322,401,290,401,259,410,226,431,194,452,179,455,184,435,198,414,229,406,259,407,290,411,321,416,353,416,385,408,417,387,450,374,461,359,468"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga458d338428ee338f681aea91905b4f26" title="Disable PWM output." alt="" coords="887,259,1034,285"/>
<area shape="poly" title=" " alt="" coords="356,462,383,446,396,429,402,412,404,376,408,341,416,323,431,307,465,290,511,278,566,269,628,264,757,261,872,264,872,270,757,267,628,269,567,275,512,283,467,295,435,311,420,326,413,342,410,377,407,413,401,432,387,450,359,467"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga23898da2b0024e62dae58b7059f45397" title="Enable PWM output." alt="" coords="889,813,1033,840"/>
<area shape="poly" title=" " alt="" coords="314,487,320,545,338,630,354,676,375,721,401,763,435,799,460,819,488,835,548,858,611,871,676,874,741,871,801,864,901,842,902,847,802,869,741,877,676,880,611,876,546,863,485,840,457,823,431,803,397,766,370,724,349,678,333,631,315,546,308,487"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gae908ff70c6b0b9ba54ec69dbbceca07e" title="Handle AUTORECOVERY state operations." alt="" coords="434,889,607,916"/>
<area shape="poly" title=" " alt="" coords="313,487,317,554,334,656,349,712,370,769,399,822,435,869,448,879,445,884,431,873,394,825,365,771,344,714,328,657,312,555,308,487"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1f1e0e52e3b18a3fc2ecd5b204913f16" title="Handle CHARGING state operations." alt="" coords="447,208,594,235"/>
<area shape="poly" title=" " alt="" coords="356,463,371,456,383,446,400,422,407,399,408,375,407,351,405,327,406,302,414,277,431,252,443,241,447,245,435,255,419,279,412,303,410,327,412,351,414,375,412,400,404,425,387,450,374,460,359,468"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga55640c3a709e22874c844ffee4440939" title="Handle FAULT state operations." alt="" coords="459,384,582,411"/>
<area shape="poly" title=" " alt="" coords="354,457,384,446,432,420,450,413,452,418,434,425,386,450,356,462"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gaa609d54e2438e5450f96fd281720c5cf" title="Handle FULLYCHARGED state operations." alt="" coords="436,435,605,461"/>
<area shape="poly" title=" " alt="" coords="357,465,420,457,421,463,358,470"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gad96831e426a2010e8f1da8669cf9ec46" title="Handle HANDSHAKE state operations." alt="" coords="440,763,601,789"/>
<area shape="poly" title=" " alt="" coords="318,486,361,579,395,640,435,698,462,727,490,751,486,755,458,731,431,702,390,643,356,581,313,488"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga25f2b5c68a1ec0310d97a37e6309f183" title="Handle IDLE state operations." alt="" coords="462,485,580,512"/>
<area shape="poly" title=" " alt="" coords="358,476,446,487,446,492,357,482"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1f3f76f448b8dc2495b4c6fa50d5f204" title="Check if debounce condition has finished." alt="" coords="433,940,608,967"/>
<area shape="poly" title=" " alt="" coords="315,487,329,575,354,708,371,777,391,840,412,892,435,926,438,929,434,933,431,930,407,894,386,842,366,778,349,709,323,576,309,487"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga5e3af4f6ebe90cec1287b588d1ef1bde" title="Check if delay time has finished." alt="" coords="446,991,596,1017"/>
<area shape="poly" title=" " alt="" coords="314,487,327,584,351,732,368,809,388,880,410,938,435,977,438,980,434,984,431,980,405,940,383,881,363,810,346,733,321,585,309,487"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gac044c2a9b23a166045e549e87cf16015" title="Handle PFC_START state operations." alt="" coords="446,573,595,600"/>
<area shape="poly" title=" " alt="" coords="337,485,482,563,480,568,335,490"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1dc8f3e307384996bd6c0f4bcf9c8704" title="Handle SHUTDOWN state operations." alt="" coords="444,321,598,348"/>
<area shape="poly" title=" " alt="" coords="356,460,383,446,399,428,407,409,415,390,431,370,458,353,461,357,435,374,419,393,412,411,404,431,387,450,359,465"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga03b668343def8a556453bf8f687d1f34" title="Handle SOFTSTART state operations." alt="" coords="448,661,594,688"/>
<area shape="poly" title=" " alt="" coords="323,486,369,542,435,610,487,650,483,654,431,614,365,546,319,489"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga127eaaf52bcbe81e23c9e2c1a3a2c20e" title="Reset and reinitialize comparator protection system." alt="" coords="668,73,821,100"/>
<area shape="poly" title=" " alt="" coords="573,154,607,143,699,104,702,109,609,148,574,159"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga4553469f3dfae5c9c1cb1d96f8fc5c97" title="Initialize Comparator module." alt="" coords="919,5,1003,32"/>
<area shape="poly" title=" " alt="" coords="789,70,903,34,905,39,790,75"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga79780eab52f33a6dcb63d5e0a9703ec9" title="Set comparator threshold value." alt="" coords="1089,5,1234,32"/>
<area shape="poly" title=" " alt="" coords="1003,16,1073,16,1073,21,1003,21"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga84238c737cc149f14fc61a023dd84613" title="Execute hybrid PFM/PWM control with PI controllers." alt="" coords="678,192,811,235"/>
<area shape="poly" title=" " alt="" coords="594,216,662,214,662,219,595,221"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga23f0cb4d2dac6d0886892547dc0eba47" title="Apply anti&#45;windup to PI controller." alt="" coords="882,56,1040,83"/>
<area shape="poly" title=" " alt="" coords="763,190,813,141,845,115,879,92,891,86,893,91,882,97,848,119,817,145,767,193"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga2d517a90930117bcda9492ca3f4a775e" title="Process PI controller computation." alt="" coords="885,208,1036,235"/>
<area shape="poly" title=" " alt="" coords="812,213,869,215,869,221,812,218"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="890,360,1032,387"/>
<area shape="poly" title=" " alt="" coords="771,233,835,296,857,323,867,334,882,346,891,351,889,356,879,350,863,338,853,326,831,299,767,237"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="1105,309,1218,336"/>
<area shape="poly" title=" " alt="" coords="811,190,863,180,922,174,983,177,1013,184,1042,194,1076,214,1105,240,1147,294,1143,297,1101,244,1073,218,1040,198,1012,189,982,183,922,180,863,185,812,196"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="888,309,1034,336"/>
<area shape="poly" title=" " alt="" coords="778,233,826,264,882,295,896,301,894,306,880,300,823,269,775,238"/>
<area shape="rect" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga467c12fbae6d58401cc50a392b1fc82d" title="Ramp up with rate control." alt="" coords="910,107,1012,133"/>
<area shape="poly" title=" " alt="" coords="791,189,880,150,909,137,911,142,882,154,794,194"/>
<area shape="poly" title=" " alt="" coords="1034,320,1090,320,1090,325,1034,325"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gafb7ab15ea874ceb8eed0112157a2e5b9" title="Set LLC to standby state." alt="" coords="697,309,792,336"/>
<area shape="poly" title=" " alt="" coords="557,381,655,345,682,337,683,342,657,351,559,386"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga3964b50e6ae1e0fffa533ee5ce56211d" title="Disable LLC relay." alt="" coords="685,360,804,403"/>
<area shape="poly" title=" " alt="" coords="582,390,669,384,670,389,583,396"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga5ab6542999b127993cd599854a65f2fb" title="Disable PFC relay." alt="" coords="683,427,806,469"/>
<area shape="poly" title=" " alt="" coords="583,409,668,428,667,433,582,414"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae12639ea85a4757563a55dac9b1fc54c" title="Enable PFC voltage compensation signal." alt="" coords="656,493,833,520"/>
<area shape="poly" title=" " alt="" coords="584,408,610,420,626,435,635,451,643,465,658,479,667,484,664,489,655,483,639,469,630,453,622,439,607,425,581,412"/>
<area shape="poly" title=" " alt="" coords="792,309,885,287,886,292,793,314"/>
<area shape="poly" title=" " alt="" coords="766,307,817,276,880,244,896,238,898,243,882,249,819,281,768,311"/>
<area shape="poly" title=" " alt="" coords="793,331,886,353,885,358,792,336"/>
<area shape="poly" title=" " alt="" coords="793,329,834,346,849,359,858,373,867,386,882,396,924,411,960,414,996,408,1040,396,1091,373,1132,344,1135,348,1093,378,1042,401,997,414,960,419,923,416,879,401,863,390,854,376,845,363,831,350,791,334"/>
<area shape="poly" title=" " alt="" coords="792,320,873,320,873,325,792,325"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gae9a4b1f0f417f77a1db32a7dc4ca1253" title="Process Multi&#45;Resonant controller computation." alt="" coords="881,461,1041,488"/>
<area shape="poly" title=" " alt="" coords="793,326,815,334,834,346,853,370,860,394,866,418,883,441,898,452,895,456,879,445,861,420,855,395,848,372,831,350,812,339,791,331"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#gae3496ae9fc231061c5da379a05932c31" title="Clear GPIO pin to LOW." alt="" coords="905,512,1016,539"/>
<area shape="poly" title=" " alt="" coords="805,395,834,413,852,435,859,457,866,478,882,498,892,505,889,509,879,502,861,480,854,459,847,437,831,417,803,400"/>
<area shape="poly" title=" " alt="" coords="804,467,834,479,882,497,901,504,899,509,880,503,832,484,802,472"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="910,712,1012,739"/>
<area shape="poly" title=" " alt="" coords="819,518,835,530,851,551,858,573,860,616,861,657,868,678,883,698,898,709,894,714,879,702,863,680,855,658,854,616,853,574,846,554,831,534,816,523"/>
<area shape="poly" title=" " alt="" coords="587,432,607,421,622,403,630,384,638,365,655,346,681,332,684,337,658,350,642,368,635,386,627,406,610,425,589,436"/>
<area shape="poly" title=" " alt="" coords="569,431,608,420,670,401,671,406,609,425,571,437"/>
<area shape="poly" title=" " alt="" coords="605,445,667,445,667,451,605,451"/>
<area shape="poly" title=" " alt="" coords="575,459,677,486,676,491,574,464"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga2ab40e496ed47c23875cbb65b689e9a4" title="Peripheral module function implementations." alt="" coords="664,813,825,840"/>
<area shape="poly" title=" " alt="" coords="584,787,668,807,667,812,582,793"/>
<area shape="poly" title=" " alt="" coords="800,810,832,799,882,773,926,745,929,750,885,777,834,804,802,815"/>
<area shape="poly" title=" " alt="" coords="579,487,607,471,619,457,626,442,630,410,634,378,641,362,655,346,681,330,684,335,658,350,646,365,639,380,635,411,631,443,623,459,610,475,582,492"/>
<area shape="poly" title=" " alt="" coords="580,483,667,463,668,468,581,488"/>
<area shape="poly" title=" " alt="" coords="580,498,641,500,641,506,580,503"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gab84b9c81bef5d760800ce5dff4ef70e0" title="Enable fan operation." alt="" coords="667,544,822,571"/>
<area shape="poly" title=" " alt="" coords="575,510,677,537,676,542,574,515"/>
<area shape="poly" title=" " alt="" coords="595,574,652,567,652,572,596,580"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gadec52c1bfc71292a44e1e8c248ad8344" title="Disable PFC voltage compensation signal." alt="" coords="683,595,806,637"/>
<area shape="poly" title=" " alt="" coords="596,594,668,603,667,609,595,599"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae09a4fb82f031ec0de625ec8271496f4" title="Enable PFC relay." alt="" coords="662,712,827,739"/>
<area shape="poly" title=" " alt="" coords="545,598,610,647,633,675,643,686,658,698,668,703,665,708,655,702,639,690,629,678,607,651,542,603"/>
<area shape="poly" title=" " alt="" coords="803,592,832,580,915,543,917,548,834,585,805,597"/>
<area shape="poly" title=" " alt="" coords="828,723,895,723,895,728,828,728"/>
<area shape="poly" title=" " alt="" coords="598,328,682,323,682,329,598,333"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gad127a12de6fc65cf8f07d9ab3f301165" title="Execute LLC soft start sequence." alt="" coords="693,661,796,688"/>
<area shape="poly" title=" " alt="" coords="594,672,677,672,677,677,594,677"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga45f821431afea196f52f1a60f70564cd" title="Update integral term scaling for LLC controllers." alt="" coords="676,763,813,789"/>
<area shape="poly" title=" " alt="" coords="544,686,595,717,657,748,675,755,673,760,655,753,592,722,542,691"/>
<area shape="poly" title=" " alt="" coords="797,682,834,698,850,710,860,721,883,749,936,801,932,804,879,752,856,725,846,714,831,702,795,687"/>
<area shape="poly" title=" " alt="" coords="796,667,815,659,831,647,849,624,858,601,861,578,861,554,860,505,866,477,878,448,900,419,926,395,930,399,904,422,883,451,871,479,866,505,866,554,866,578,863,602,853,626,835,651,817,664,798,672"/>
<area shape="poly" title=" " alt="" coords="796,667,815,660,831,648,854,610,863,574,861,537,855,500,848,462,846,424,854,385,879,346,881,344,885,348,883,350,859,387,851,424,853,461,860,499,867,536,868,574,859,612,835,651,818,664,798,672"/>
<area shape="rect" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga99d2815051a0255cb1cfc97b4a9a42b1" title="Ramp down a value towards target." alt="" coords="916,661,1006,688"/>
<area shape="poly" title=" " alt="" coords="796,672,900,672,900,677,796,677"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga8a7c85b9c345204d44030fb96316a5eb_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga8a7c85b9c345204d44030fb96316a5eb_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga8a7c85b9c345204d44030fb96316a5eb_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga8a7c85b9c345204d44030fb96316a5eb_icgraph">
<area shape="rect" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="gae908ff70c6b0b9ba54ec69dbbceca07e" name="gae908ff70c6b0b9ba54ec69dbbceca07e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae908ff70c6b0b9ba54ec69dbbceca07e">&#9670;&#160;</a></span>state_autorecoveryHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_autorecoveryHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle AUTORECOVERY state operations (waiting for fault release conditions) </p>
<p>Handle AUTORECOVERY state operations (waiting for fault release conditions)</p>
<p>AUTORECOVERY state actions:</p><ul>
<li>Wait for fault release conditions</li>
<li>No active operations, monitoring only</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Waiting state for automatic fault recovery </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gae908ff70c6b0b9ba54ec69dbbceca07e_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gae908ff70c6b0b9ba54ec69dbbceca07e_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gae908ff70c6b0b9ba54ec69dbbceca07e_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gae908ff70c6b0b9ba54ec69dbbceca07e_icgraph">
<area shape="rect" title="Handle AUTORECOVERY state operations (waiting for fault release conditions)" alt="" coords="737,5,910,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="ga1f1e0e52e3b18a3fc2ecd5b204913f16" name="ga1f1e0e52e3b18a3fc2ecd5b204913f16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f1e0e52e3b18a3fc2ecd5b204913f16">&#9670;&#160;</a></span>state_chargingHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_chargingHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle CHARGING state operations (PWM enable, LLC hybrid PI regulator) </p>
<p>Handle CHARGING state operations (PWM enable, LLC hybrid PI regulator)</p>
<p>CHARGING state actions:</p><ul>
<li>Execute LLC hybrid PI regulator for CC/CV control</li>
<li>Alternative control options (commented out):<ul>
<li>Current loop only: <a class="el" href="group___m_i_d___l_l_c.html#gafe4e5a77ff39dea24a2d08ef363cbcc0" title="Execute current regulation loop (PFM mode).">llc_regulator_current_loop_()</a></li>
<li>Voltage loop only: <a class="el" href="group___m_i_d___l_l_c.html#ga2a627e165db7f32bc036d791806f01fc" title="Execute cascaded voltage regulation loop.">llc_regulator_voltage_loop_()</a></li>
<li>Voltage output loop: <a class="el" href="group___m_i_d___l_l_c.html#ga74381259fff14dcc75e30df64adc10f0" title="Execute cascaded voltage-to-duty regulation loop.">llc_regulator_voldut_loop()</a></li>
<li>Hybrid PIR: <a class="el" href="group___m_i_d___l_l_c.html#ga3427f2eb9dd80ded3aaacaaf94d3fe74" title="Execute hybrid PFM/PWM control with Multi-Resonant controller.">llc_regulator_hybrid_loop_PIR()</a></li>
<li>Duty cycle loop: <a class="el" href="group___m_i_d___l_l_c.html#ga740d1b313849d823ccdf78e9155eaa61" title="Execute duty cycle regulation loop (PWM mode).">llc_regulator_duty_loop()</a></li>
</ul>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Active charging with constant current/constant voltage control </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f1e0e52e3b18a3fc2ecd5b204913f16_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f1e0e52e3b18a3fc2ecd5b204913f16_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f1e0e52e3b18a3fc2ecd5b204913f16_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f1e0e52e3b18a3fc2ecd5b204913f16_cgraph">
<area shape="rect" title="Handle CHARGING state operations (PWM enable, LLC hybrid PI regulator)" alt="" coords="5,132,153,159"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga84238c737cc149f14fc61a023dd84613" title="Execute hybrid PFM/PWM control with PI controllers." alt="" coords="201,124,334,167"/>
<area shape="poly" title=" " alt="" coords="153,143,185,143,185,148,153,148"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga23f0cb4d2dac6d0886892547dc0eba47" title="Apply anti&#45;windup to PI controller." alt="" coords="382,5,539,32"/>
<area shape="poly" title=" " alt="" coords="286,122,327,81,381,42,392,36,394,41,383,46,331,85,290,125"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga2d517a90930117bcda9492ca3f4a775e" title="Process PI controller computation." alt="" coords="385,56,536,83"/>
<area shape="poly" title=" " alt="" coords="313,121,381,92,399,86,401,91,383,97,316,126"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="390,107,531,133"/>
<area shape="poly" title=" " alt="" coords="334,134,374,129,375,134,335,139"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="587,183,701,209"/>
<area shape="poly" title=" " alt="" coords="335,152,572,184,572,189,334,157"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="388,208,533,235"/>
<area shape="poly" title=" " alt="" coords="325,165,412,199,410,204,323,170"/>
<area shape="rect" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga467c12fbae6d58401cc50a392b1fc82d" title="Ramp up with rate control." alt="" coords="410,259,511,285"/>
<area shape="poly" title=" " alt="" coords="290,165,331,205,383,244,397,251,394,256,381,249,327,209,286,169"/>
<area shape="poly" title=" " alt="" coords="534,209,572,203,573,209,534,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f1e0e52e3b18a3fc2ecd5b204913f16_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f1e0e52e3b18a3fc2ecd5b204913f16_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f1e0e52e3b18a3fc2ecd5b204913f16_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f1e0e52e3b18a3fc2ecd5b204913f16_icgraph">
<area shape="rect" title="Handle CHARGING state operations (PWM enable, LLC hybrid PI regulator)" alt="" coords="737,5,884,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="ga55640c3a709e22874c844ffee4440939" name="ga55640c3a709e22874c844ffee4440939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55640c3a709e22874c844ffee4440939">&#9670;&#160;</a></span>state_faultHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_faultHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle FAULT state operations (safe shutdown: relays off, PFC comp on, LLC standby) </p>
<p>Handle FAULT state operations (safe shutdown: relays off, PFC comp on, LLC standby)</p>
<p>FAULT state actions:</p><ul>
<li>Turn off LLC relay (disconnect LLC converter)</li>
<li>Turn on PFC voltage comparator (restore protection)</li>
<li>Turn off PFC relay (disconnect PFC stage)</li>
<li>Set LLC to standby mode</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Emergency safe shutdown sequence </dd>
<dd>
Identical actions to FULLYCHARGED state for safety </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga55640c3a709e22874c844ffee4440939_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga55640c3a709e22874c844ffee4440939_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga55640c3a709e22874c844ffee4440939_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga55640c3a709e22874c844ffee4440939_cgraph">
<area shape="rect" title="Handle FAULT state operations (safe shutdown: relays off, PFC comp on, LLC standby)" alt="" coords="5,276,129,303"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gafb7ab15ea874ceb8eed0112157a2e5b9" title="Set LLC to standby state." alt="" coords="218,157,312,184"/>
<area shape="poly" title=" " alt="" coords="89,273,175,220,226,190,229,194,178,225,92,278"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga3964b50e6ae1e0fffa533ee5ce56211d" title="Disable LLC relay." alt="" coords="206,235,324,277"/>
<area shape="poly" title=" " alt="" coords="129,276,190,266,191,271,129,282"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga5ab6542999b127993cd599854a65f2fb" title="Disable PFC relay." alt="" coords="203,301,326,344"/>
<area shape="poly" title=" " alt="" coords="129,297,188,307,187,312,129,302"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae12639ea85a4757563a55dac9b1fc54c" title="Enable PFC voltage compensation signal." alt="" coords="177,368,353,395"/>
<area shape="poly" title=" " alt="" coords="89,301,129,327,178,354,194,360,192,365,176,358,126,332,86,306"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga2d517a90930117bcda9492ca3f4a775e" title="Process PI controller computation." alt="" coords="406,5,557,32"/>
<area shape="poly" title=" " alt="" coords="275,155,325,101,361,69,400,42,410,36,413,41,402,46,364,73,329,104,279,159"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gae9a4b1f0f417f77a1db32a7dc4ca1253" title="Process Multi&#45;Resonant controller computation." alt="" coords="401,56,561,83"/>
<area shape="poly" title=" " alt="" coords="286,155,337,124,400,92,416,86,418,91,402,97,340,129,289,159"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga458d338428ee338f681aea91905b4f26" title="Disable PWM output." alt="" coords="408,107,555,133"/>
<area shape="poly" title=" " alt="" coords="312,157,405,135,407,140,313,162"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="410,157,552,184"/>
<area shape="poly" title=" " alt="" coords="313,168,395,168,395,173,313,173"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="609,233,723,260"/>
<area shape="poly" title=" " alt="" coords="313,177,594,231,593,236,312,182"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="408,259,554,285"/>
<area shape="poly" title=" " alt="" coords="293,182,402,238,430,250,428,255,400,242,290,187"/>
<area shape="poly" title=" " alt="" coords="554,259,594,254,594,259,555,265"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#gae3496ae9fc231061c5da379a05932c31" title="Clear GPIO pin to LOW." alt="" coords="426,309,537,336"/>
<area shape="poly" title=" " alt="" coords="325,272,421,302,420,307,324,277"/>
<area shape="poly" title=" " alt="" coords="327,320,410,320,410,325,327,325"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="430,368,532,395"/>
<area shape="poly" title=" " alt="" coords="353,379,415,379,415,384,353,384"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga55640c3a709e22874c844ffee4440939_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga55640c3a709e22874c844ffee4440939_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga55640c3a709e22874c844ffee4440939_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga55640c3a709e22874c844ffee4440939_icgraph">
<area shape="rect" title="Handle FAULT state operations (safe shutdown: relays off, PFC comp on, LLC standby)" alt="" coords="737,5,860,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="gaa609d54e2438e5450f96fd281720c5cf" name="gaa609d54e2438e5450f96fd281720c5cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa609d54e2438e5450f96fd281720c5cf">&#9670;&#160;</a></span>state_fullychargedHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_fullychargedHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle FULLYCHARGED state operations (LLC relay off, PFC comp on, PFC relay off, LLC standby) </p>
<p>Handle FULLYCHARGED state operations (LLC relay off, PFC comp on, PFC relay off, LLC standby)</p>
<p>FULLYCHARGED state actions:</p><ul>
<li>Turn off LLC relay (disconnect LLC converter)</li>
<li>Turn on PFC voltage comparator (restore protection)</li>
<li>Turn off PFC relay (disconnect PFC stage)</li>
<li>Set LLC to standby mode</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Charging complete, safe shutdown sequence </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gaa609d54e2438e5450f96fd281720c5cf_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gaa609d54e2438e5450f96fd281720c5cf_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gaa609d54e2438e5450f96fd281720c5cf_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gaa609d54e2438e5450f96fd281720c5cf_cgraph">
<area shape="rect" title="Handle FULLYCHARGED state operations (LLC relay off, PFC comp on, PFC relay off, LLC standby)" alt="" coords="5,276,174,303"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gafb7ab15ea874ceb8eed0112157a2e5b9" title="Set LLC to standby state." alt="" coords="263,157,357,184"/>
<area shape="poly" title=" " alt="" coords="115,273,268,190,271,194,118,278"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga3964b50e6ae1e0fffa533ee5ce56211d" title="Disable LLC relay." alt="" coords="251,235,369,277"/>
<area shape="poly" title=" " alt="" coords="173,274,235,265,236,270,174,279"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga5ab6542999b127993cd599854a65f2fb" title="Disable PFC relay." alt="" coords="248,301,372,344"/>
<area shape="poly" title=" " alt="" coords="174,299,233,308,232,314,173,305"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae12639ea85a4757563a55dac9b1fc54c" title="Enable PFC voltage compensation signal." alt="" coords="222,368,398,395"/>
<area shape="poly" title=" " alt="" coords="116,301,165,327,223,354,241,360,240,365,221,358,162,332,114,306"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga2d517a90930117bcda9492ca3f4a775e" title="Process PI controller computation." alt="" coords="450,5,602,32"/>
<area shape="poly" title=" " alt="" coords="320,155,370,101,406,69,445,42,455,36,458,41,447,46,409,73,374,104,324,159"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gae9a4b1f0f417f77a1db32a7dc4ca1253" title="Process Multi&#45;Resonant controller computation." alt="" coords="446,56,606,83"/>
<area shape="poly" title=" " alt="" coords="331,155,382,124,445,92,461,86,463,91,447,97,385,129,334,159"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga458d338428ee338f681aea91905b4f26" title="Disable PWM output." alt="" coords="452,107,600,133"/>
<area shape="poly" title=" " alt="" coords="357,157,450,135,452,140,358,162"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="456,157,597,184"/>
<area shape="poly" title=" " alt="" coords="358,168,440,168,440,173,358,173"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="654,233,768,260"/>
<area shape="poly" title=" " alt="" coords="358,177,639,231,638,236,357,182"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="454,259,599,285"/>
<area shape="poly" title=" " alt="" coords="338,182,447,238,475,250,473,255,445,242,335,187"/>
<area shape="poly" title=" " alt="" coords="599,259,639,254,639,259,600,265"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#gae3496ae9fc231061c5da379a05932c31" title="Clear GPIO pin to LOW." alt="" coords="470,309,582,336"/>
<area shape="poly" title=" " alt="" coords="370,272,466,302,465,307,369,277"/>
<area shape="poly" title=" " alt="" coords="372,320,455,320,455,325,372,325"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="476,368,577,395"/>
<area shape="poly" title=" " alt="" coords="398,379,460,379,460,384,398,384"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gaa609d54e2438e5450f96fd281720c5cf_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gaa609d54e2438e5450f96fd281720c5cf_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gaa609d54e2438e5450f96fd281720c5cf_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gaa609d54e2438e5450f96fd281720c5cf_icgraph">
<area shape="rect" title="Handle FULLYCHARGED state operations (LLC relay off, PFC comp on, PFC relay off, LLC standby)" alt="" coords="737,5,905,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="ga3d5254d06dbab993dda09f25f550106c" name="ga3d5254d06dbab993dda09f25f550106c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d5254d06dbab993dda09f25f550106c">&#9670;&#160;</a></span>state_get_led_mode_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_n_d_i_c_a_t_o_r.html#ga25ed4e6b8baeaf04ee5f7c03faed0ffa">E_Indicator_Mode_TypeDef</a> state_get_led_mode_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pEVSE</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get LED mode corresponding to current EVSE state. </p>
<p>Maps EVSE state to appropriate LED indicator mode:</p><ul>
<li>IDLE → LEDMODE_STANDBY</li>
<li>PFC_START/SOFTSTART/HANDSHAKE/CHARGING → LEDMODE_ACTIVE</li>
<li>FULLYCHARGED → LEDMODE_COMPLETE</li>
<li>FAULT/AUTORECOVERY/SHUTDOWN → LEDMODE_ERROR</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pEVSE</td><td>Pointer to EVSE state structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___m_i_d___i_n_d_i_c_a_t_o_r.html#ga25ed4e6b8baeaf04ee5f7c03faed0ffa" title="Public macro definitions.">E_Indicator_Mode_TypeDef</a> LED mode enum value</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Used by indicator module for LED pattern control </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga3d5254d06dbab993dda09f25f550106c_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga3d5254d06dbab993dda09f25f550106c_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga3d5254d06dbab993dda09f25f550106c_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga3d5254d06dbab993dda09f25f550106c_icgraph">
<area shape="rect" title="Get LED mode corresponding to current EVSE state." alt="" coords="290,5,435,32"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#gaa975937fac78c9e28b50ff05c8325e2f" title="Infinite loop processing for background tasks." alt="" coords="103,5,242,32"/>
<area shape="poly" title=" " alt="" coords="275,21,242,21,242,16,275,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="gad96831e426a2010e8f1da8669cf9ec46" name="gad96831e426a2010e8f1da8669cf9ec46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad96831e426a2010e8f1da8669cf9ec46">&#9670;&#160;</a></span>state_handshakeHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_handshakeHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle HANDSHAKE state operations (LLC relay on) </p>
<p>Handle HANDSHAKE state operations (LLC relay on)</p>
<p>HANDSHAKE state actions:</p><ul>
<li>Turn on LLC relay (connect LLC converter to battery)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Pre-charging phase, relay engagement </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gad96831e426a2010e8f1da8669cf9ec46_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gad96831e426a2010e8f1da8669cf9ec46_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gad96831e426a2010e8f1da8669cf9ec46_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gad96831e426a2010e8f1da8669cf9ec46_cgraph">
<area shape="rect" title="Handle HANDSHAKE state operations (LLC relay on)" alt="" coords="5,5,167,32"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga2ab40e496ed47c23875cbb65b689e9a4" title="Peripheral module function implementations." alt="" coords="215,5,375,32"/>
<area shape="poly" title=" " alt="" coords="167,16,199,16,199,21,167,21"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="423,5,524,32"/>
<area shape="poly" title=" " alt="" coords="375,16,407,16,407,21,375,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gad96831e426a2010e8f1da8669cf9ec46_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gad96831e426a2010e8f1da8669cf9ec46_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gad96831e426a2010e8f1da8669cf9ec46_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gad96831e426a2010e8f1da8669cf9ec46_icgraph">
<area shape="rect" title="Handle HANDSHAKE state operations (LLC relay on)" alt="" coords="737,5,898,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="ga25f2b5c68a1ec0310d97a37e6309f183" name="ga25f2b5c68a1ec0310d97a37e6309f183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25f2b5c68a1ec0310d97a37e6309f183">&#9670;&#160;</a></span>state_idleHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_idleHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle IDLE state operations (PFC comp on, PFC relay off, fan enable, LLC standby) </p>
<p>Handle IDLE state operations (PFC comp on, PFC relay off, fan enable, LLC standby)</p>
<p>IDLE state actions:</p><ul>
<li>Turn on PFC voltage comparator (for protection)</li>
<li>Turn off PFC relay (disconnect PFC stage)</li>
<li>Enable cooling fan</li>
<li>Set LLC to standby mode</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>System ready state, waiting for valid battery connection </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga25f2b5c68a1ec0310d97a37e6309f183_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga25f2b5c68a1ec0310d97a37e6309f183_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga25f2b5c68a1ec0310d97a37e6309f183_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga25f2b5c68a1ec0310d97a37e6309f183_cgraph">
<area shape="rect" title="Handle IDLE state operations (PFC comp on, PFC relay off, fan enable, LLC standby)" alt="" coords="5,276,124,303"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gafb7ab15ea874ceb8eed0112157a2e5b9" title="Set LLC to standby state." alt="" coords="213,157,307,184"/>
<area shape="poly" title=" " alt="" coords="87,273,222,190,225,195,90,278"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gab84b9c81bef5d760800ce5dff4ef70e0" title="Enable fan operation." alt="" coords="183,247,337,273"/>
<area shape="poly" title=" " alt="" coords="124,278,167,271,167,277,125,283"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga5ab6542999b127993cd599854a65f2fb" title="Disable PFC relay." alt="" coords="198,297,322,340"/>
<area shape="poly" title=" " alt="" coords="125,296,183,305,183,310,124,301"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae12639ea85a4757563a55dac9b1fc54c" title="Enable PFC voltage compensation signal." alt="" coords="172,364,348,391"/>
<area shape="poly" title=" " alt="" coords="87,301,126,325,173,350,190,356,188,361,171,354,123,330,84,305"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga2d517a90930117bcda9492ca3f4a775e" title="Process PI controller computation." alt="" coords="400,5,552,32"/>
<area shape="poly" title=" " alt="" coords="270,155,320,101,356,69,395,42,405,36,408,41,397,46,359,73,324,104,274,159"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gae9a4b1f0f417f77a1db32a7dc4ca1253" title="Process Multi&#45;Resonant controller computation." alt="" coords="396,56,556,83"/>
<area shape="poly" title=" " alt="" coords="281,155,332,124,395,92,411,86,413,91,397,97,335,129,284,159"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga458d338428ee338f681aea91905b4f26" title="Disable PWM output." alt="" coords="402,107,550,133"/>
<area shape="poly" title=" " alt="" coords="307,157,400,135,402,140,308,162"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="406,157,547,184"/>
<area shape="poly" title=" " alt="" coords="308,168,390,168,390,173,308,173"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="604,233,718,260"/>
<area shape="poly" title=" " alt="" coords="308,177,589,231,588,236,307,182"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="404,259,549,285"/>
<area shape="poly" title=" " alt="" coords="288,182,397,238,425,250,423,255,395,242,285,187"/>
<area shape="poly" title=" " alt="" coords="549,259,589,254,589,259,550,265"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#gae3496ae9fc231061c5da379a05932c31" title="Clear GPIO pin to LOW." alt="" coords="420,309,532,336"/>
<area shape="poly" title=" " alt="" coords="322,317,405,319,405,324,322,322"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="426,364,527,391"/>
<area shape="poly" title=" " alt="" coords="348,375,410,375,410,380,348,380"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga25f2b5c68a1ec0310d97a37e6309f183_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga25f2b5c68a1ec0310d97a37e6309f183_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga25f2b5c68a1ec0310d97a37e6309f183_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga25f2b5c68a1ec0310d97a37e6309f183_icgraph">
<area shape="rect" title="Handle IDLE state operations (PFC comp on, PFC relay off, fan enable, LLC standby)" alt="" coords="737,5,855,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="gab6279279ac9e404eedf7848ce01d529c" name="gab6279279ac9e404eedf7848ce01d529c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6279279ac9e404eedf7848ce01d529c">&#9670;&#160;</a></span>state_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pEVSE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gaf385e9d5b5e5b8d6dcb7451515bc0fde">E_EVSE_State_t</a></td>          <td class="paramname"><span class="paramname"><em>initialState</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global function prototypes. </p>
<p>Initialize EVSE state machine.</p>
<p>Sets initial state and resets all counters to zero. Should be called once at system startup before entering main loop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pEVSE</td><td>Pointer to EVSE state structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">initialState</td><td>Initial state to set (typically EVSE_STATE_IDLE)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Calls state_config() internally to reset all counters </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gab6279279ac9e404eedf7848ce01d529c_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gab6279279ac9e404eedf7848ce01d529c_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gab6279279ac9e404eedf7848ce01d529c_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gab6279279ac9e404eedf7848ce01d529c_icgraph">
<area shape="rect" title="Global function prototypes." alt="" coords="313,5,387,32"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga92575d106e9621cd83364e7921c16842" title="Global function implementations." alt="" coords="103,5,265,32"/>
<area shape="poly" title=" " alt="" coords="297,21,266,21,266,16,297,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ga1f3f76f448b8dc2495b4c6fa50d5f204" name="ga1f3f76f448b8dc2495b4c6fa50d5f204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f3f76f448b8dc2495b4c6fa50d5f204">&#9670;&#160;</a></span>state_isDebounceFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_Bool state_isDebounceFinished </td>
          <td>(</td>
          <td class="paramtype">_Bool</td>          <td class="paramname"><span class="paramname"><em>condition</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>counter</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if debounce condition has finished. </p>
<p>Increments counter while condition is true until timeout, then returns true. Resets counter if condition becomes false. Used for stable condition checking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">condition</td><td>Boolean condition to check </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Debounce timeout in sampling periods </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">counter</td><td>Pointer to debounce counter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>_Bool True if condition stable for timeout period, false otherwise</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Counter is reset when condition becomes false (prevents false triggers) </dd>
<dd>
Prevents glitches and noise from causing premature state transitions </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f3f76f448b8dc2495b4c6fa50d5f204_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f3f76f448b8dc2495b4c6fa50d5f204_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f3f76f448b8dc2495b4c6fa50d5f204_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1f3f76f448b8dc2495b4c6fa50d5f204_icgraph">
<area shape="rect" title="Check if debounce condition has finished." alt="" coords="737,5,912,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="ga5e3af4f6ebe90cec1287b588d1ef1bde" name="ga5e3af4f6ebe90cec1287b588d1ef1bde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e3af4f6ebe90cec1287b588d1ef1bde">&#9670;&#160;</a></span>state_isDelayFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_Bool state_isDelayFinished </td>
          <td>(</td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>p_counter</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>delay_ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>sampling_time_ms</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if delay time has finished. </p>
<p>Increments counter until target count is reached, then resets and returns true. Used for fixed-time delays in state transitions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_counter</td><td>Pointer to delay counter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delay_ms</td><td>Delay time in microseconds </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sampling_time_ms</td><td>Sampling time in microseconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>_Bool True if delay finished, false otherwise</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Counter is automatically reset when delay expires </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga5e3af4f6ebe90cec1287b588d1ef1bde_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga5e3af4f6ebe90cec1287b588d1ef1bde_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga5e3af4f6ebe90cec1287b588d1ef1bde_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga5e3af4f6ebe90cec1287b588d1ef1bde_icgraph">
<area shape="rect" title="Check if delay time has finished." alt="" coords="737,5,887,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="gac044c2a9b23a166045e549e87cf16015" name="gac044c2a9b23a166045e549e87cf16015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac044c2a9b23a166045e549e87cf16015">&#9670;&#160;</a></span>state_pfc_startHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_pfc_startHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle PFC_START state operations (fan enable, PFC comp off, PFC relay on) </p>
<p>Handle PFC_START state operations (fan enable, PFC comp off, PFC relay on)</p>
<p>PFC_START state actions:</p><ul>
<li>Enable cooling fan</li>
<li>Turn off PFC voltage comparator</li>
<li>Turn on PFC relay (connect PFC stage)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>PFC stage initialization phase </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gac044c2a9b23a166045e549e87cf16015_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gac044c2a9b23a166045e549e87cf16015_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gac044c2a9b23a166045e549e87cf16015_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gac044c2a9b23a166045e549e87cf16015_cgraph">
<area shape="rect" title="Handle PFC_START state operations (fan enable, PFC comp off, PFC relay on)" alt="" coords="5,64,155,91"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gab84b9c81bef5d760800ce5dff4ef70e0" title="Enable fan operation." alt="" coords="208,5,362,32"/>
<area shape="poly" title=" " alt="" coords="129,61,221,34,222,39,130,66"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gadec52c1bfc71292a44e1e8c248ad8344" title="Disable PFC voltage compensation signal." alt="" coords="224,56,347,99"/>
<area shape="poly" title=" " alt="" coords="155,75,208,75,208,80,155,80"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae09a4fb82f031ec0de625ec8271496f4" title="Enable PFC relay." alt="" coords="203,123,368,149"/>
<area shape="poly" title=" " alt="" coords="130,89,222,115,221,120,129,94"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#gae3496ae9fc231061c5da379a05932c31" title="Clear GPIO pin to LOW." alt="" coords="416,64,527,91"/>
<area shape="poly" title=" " alt="" coords="347,75,401,75,401,80,347,80"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="421,123,522,149"/>
<area shape="poly" title=" " alt="" coords="368,133,405,133,405,139,368,139"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gac044c2a9b23a166045e549e87cf16015_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gac044c2a9b23a166045e549e87cf16015_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gac044c2a9b23a166045e549e87cf16015_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gac044c2a9b23a166045e549e87cf16015_icgraph">
<area shape="rect" title="Handle PFC_START state operations (fan enable, PFC comp off, PFC relay on)" alt="" coords="737,5,886,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="ga1dc8f3e307384996bd6c0f4bcf9c8704" name="ga1dc8f3e307384996bd6c0f4bcf9c8704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1dc8f3e307384996bd6c0f4bcf9c8704">&#9670;&#160;</a></span>state_shutdownHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_shutdownHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle SHUTDOWN state operations (permanent shutdown, LLC standby) </p>
<p>Handle SHUTDOWN state operations (permanent shutdown, LLC standby)</p>
<p>SHUTDOWN state actions:</p><ul>
<li>Set LLC to standby mode</li>
<li>System remains in permanent shutdown</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Permanent shutdown due to critical fault or retry limit exceeded </dd>
<dd>
Requires manual reset to recover </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1dc8f3e307384996bd6c0f4bcf9c8704_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1dc8f3e307384996bd6c0f4bcf9c8704_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1dc8f3e307384996bd6c0f4bcf9c8704_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1dc8f3e307384996bd6c0f4bcf9c8704_cgraph">
<area shape="rect" title="Handle SHUTDOWN state operations (permanent shutdown, LLC standby)" alt="" coords="5,132,160,159"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gafb7ab15ea874ceb8eed0112157a2e5b9" title="Set LLC to standby state." alt="" coords="208,132,302,159"/>
<area shape="poly" title=" " alt="" coords="160,143,192,143,192,148,160,148"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga2d517a90930117bcda9492ca3f4a775e" title="Process PI controller computation." alt="" coords="354,5,506,32"/>
<area shape="poly" title=" " alt="" coords="263,130,297,87,321,63,349,42,358,37,360,41,351,46,325,67,301,90,268,133"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gae9a4b1f0f417f77a1db32a7dc4ca1253" title="Process Multi&#45;Resonant controller computation." alt="" coords="350,56,510,83"/>
<area shape="poly" title=" " alt="" coords="278,129,349,92,366,86,368,91,351,97,280,134"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga458d338428ee338f681aea91905b4f26" title="Disable PWM output." alt="" coords="356,107,504,133"/>
<area shape="poly" title=" " alt="" coords="302,136,341,130,342,135,303,141"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="360,157,501,184"/>
<area shape="poly" title=" " alt="" coords="303,149,345,156,344,161,302,155"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="558,233,672,260"/>
<area shape="poly" title=" " alt="" coords="279,157,312,176,351,193,450,221,543,236,542,242,449,226,349,199,309,181,276,161"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="358,259,503,285"/>
<area shape="poly" title=" " alt="" coords="269,158,303,197,352,238,373,250,371,254,348,242,300,200,265,161"/>
<area shape="poly" title=" " alt="" coords="503,259,543,254,543,259,504,265"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1dc8f3e307384996bd6c0f4bcf9c8704_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1dc8f3e307384996bd6c0f4bcf9c8704_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1dc8f3e307384996bd6c0f4bcf9c8704_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga1dc8f3e307384996bd6c0f4bcf9c8704_icgraph">
<area shape="rect" title="Handle SHUTDOWN state operations (permanent shutdown, LLC standby)" alt="" coords="737,5,891,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="ga03b668343def8a556453bf8f687d1f34" name="ga03b668343def8a556453bf8f687d1f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03b668343def8a556453bf8f687d1f34">&#9670;&#160;</a></span>state_softstartHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_softstartHandle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle SOFTSTART state operations (LLC soft-start with integral update) </p>
<p>Handle SOFTSTART state operations (LLC soft-start with integral update)</p>
<p>SOFTSTART state actions:</p><ul>
<li>Execute LLC soft-start sequence (820 cycles)</li>
<li>Update LLC integral controller (1495 cycles)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Gradual LLC startup to prevent inrush current </dd>
<dd>
Cycle counts indicate execution time overhead </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga03b668343def8a556453bf8f687d1f34_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga03b668343def8a556453bf8f687d1f34_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga03b668343def8a556453bf8f687d1f34_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga03b668343def8a556453bf8f687d1f34_cgraph">
<area shape="rect" title="Handle SOFTSTART state operations (LLC soft&#45;start with integral update)" alt="" coords="5,107,152,133"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gad127a12de6fc65cf8f07d9ab3f301165" title="Execute LLC soft start sequence." alt="" coords="216,81,320,108"/>
<area shape="poly" title=" " alt="" coords="152,108,201,101,201,106,152,113"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga45f821431afea196f52f1a60f70564cd" title="Update integral term scaling for LLC controllers." alt="" coords="200,132,336,159"/>
<area shape="poly" title=" " alt="" coords="152,127,185,132,184,137,152,132"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga23898da2b0024e62dae58b7059f45397" title="Enable PWM output." alt="" coords="384,5,529,32"/>
<area shape="poly" title=" " alt="" coords="298,78,383,42,399,35,401,40,385,46,300,83"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="386,56,527,83"/>
<area shape="poly" title=" " alt="" coords="320,85,370,78,371,83,320,90"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="384,107,529,133"/>
<area shape="poly" title=" " alt="" coords="320,99,369,106,368,111,320,104"/>
<area shape="rect" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga99d2815051a0255cb1cfc97b4a9a42b1" title="Ramp down a value towards target." alt="" coords="412,157,502,184"/>
<area shape="poly" title=" " alt="" coords="309,106,337,118,385,143,400,149,398,154,383,148,335,122,307,111"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="577,107,691,133"/>
<area shape="poly" title=" " alt="" coords="530,117,562,117,562,123,530,123"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga03b668343def8a556453bf8f687d1f34_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga03b668343def8a556453bf8f687d1f34_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga03b668343def8a556453bf8f687d1f34_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_ga03b668343def8a556453bf8f687d1f34_icgraph">
<area shape="rect" title="Handle SOFTSTART state operations (LLC soft&#45;start with integral update)" alt="" coords="737,5,883,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="poly" title=" " alt="" coords="721,21,689,21,689,16,721,16"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="gafc5058be8e5904fe82c000699ae798d8" name="gafc5058be8e5904fe82c000699ae798d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc5058be8e5904fe82c000699ae798d8">&#9670;&#160;</a></span>state_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pEVSE</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update EVSE state machine. </p>
<p>Main state machine function implementing state transitions and calling appropriate handlers. Uses switch-case structure with condition checking for each state. Should be called periodically in main loop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pEVSE</td><td>Pointer to EVSE state structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Handles all 9 states with fault checking and transition conditions </dd>
<dd>
Uses debounce and delay mechanisms for stable transitions </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gafc5058be8e5904fe82c000699ae798d8_cgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gafc5058be8e5904fe82c000699ae798d8_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gafc5058be8e5904fe82c000699ae798d8_cgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gafc5058be8e5904fe82c000699ae798d8_cgraph">
<area shape="rect" title="Update EVSE state machine." alt="" coords="5,460,102,487"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#gadd66ff8b83b7d62ace627df52da6ad7c" title="Determine if fault should be logged to history." alt="" coords="174,56,301,83"/>
<area shape="poly" title=" " alt="" coords="54,459,64,384,84,274,111,165,129,122,148,93,158,84,161,88,152,96,133,125,117,167,89,275,69,385,59,460"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#ga2ef8a4e52363253bce2a4ceb62aa94fb" title="Check if fault conditions have cleared." alt="" coords="186,107,288,133"/>
<area shape="poly" title=" " alt="" coords="52,459,54,402,65,317,77,271,94,225,117,182,148,143,170,129,173,133,151,147,122,184,99,227,82,273,70,318,59,402,57,460"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#ga8ad70d1197990240e6cbb899640152fa" title="Enter fault standby/reset state." alt="" coords="184,157,290,184"/>
<area shape="poly" title=" " alt="" coords="53,459,57,410,71,338,83,300,100,261,121,226,148,194,169,180,171,185,151,198,125,229,104,264,88,302,76,340,63,410,58,460"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga458d338428ee338f681aea91905b4f26" title="Disable PWM output." alt="" coords="604,259,751,285"/>
<area shape="poly" title=" " alt="" coords="56,459,66,427,83,384,111,342,128,323,148,307,183,292,229,281,347,268,475,264,589,266,588,271,475,270,347,274,230,286,184,297,151,312,132,327,115,345,88,387,71,428,61,460"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga23898da2b0024e62dae58b7059f45397" title="Enable PWM output." alt="" coords="605,813,750,840"/>
<area shape="poly" title=" " alt="" coords="57,487,58,545,69,629,80,675,97,721,121,763,152,799,177,820,204,837,263,861,327,874,393,877,458,874,519,865,619,842,620,847,520,871,458,879,393,883,326,879,262,866,201,842,173,824,148,803,116,766,93,723,75,677,64,630,53,545,52,487"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gae908ff70c6b0b9ba54ec69dbbceca07e" title="Handle AUTORECOVERY state operations." alt="" coords="151,889,324,916"/>
<area shape="poly" title=" " alt="" coords="59,487,69,565,89,680,116,794,133,839,152,869,164,879,160,883,148,872,128,841,111,795,83,681,64,566,54,488"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1f1e0e52e3b18a3fc2ecd5b204913f16" title="Handle CHARGING state operations." alt="" coords="164,208,311,235"/>
<area shape="poly" title=" " alt="" coords="54,459,63,419,80,364,107,304,126,276,148,251,163,240,167,244,151,255,130,279,112,307,85,366,68,421,59,460"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga55640c3a709e22874c844ffee4440939" title="Handle FAULT state operations." alt="" coords="176,384,299,411"/>
<area shape="poly" title=" " alt="" coords="76,457,149,420,167,413,169,418,151,425,79,462"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gaa609d54e2438e5450f96fd281720c5cf" title="Handle FULLYCHARGED state operations." alt="" coords="153,435,322,461"/>
<area shape="poly" title=" " alt="" coords="102,464,137,459,138,464,102,469"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gad96831e426a2010e8f1da8669cf9ec46" title="Handle HANDSHAKE state operations." alt="" coords="157,763,318,789"/>
<area shape="poly" title=" " alt="" coords="61,486,91,580,117,640,152,698,177,727,205,751,202,755,173,731,148,702,113,643,86,582,56,488"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga25f2b5c68a1ec0310d97a37e6309f183" title="Handle IDLE state operations." alt="" coords="178,485,296,512"/>
<area shape="poly" title=" " alt="" coords="102,477,164,486,163,491,102,483"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1f3f76f448b8dc2495b4c6fa50d5f204" title="Check if debounce condition has finished." alt="" coords="150,940,325,967"/>
<area shape="poly" title=" " alt="" coords="58,487,67,575,84,707,97,776,112,840,130,891,152,926,154,929,150,932,148,930,126,894,107,841,91,777,79,708,61,576,53,487"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga5e3af4f6ebe90cec1287b588d1ef1bde" title="Check if delay time has finished." alt="" coords="162,991,312,1017"/>
<area shape="poly" title=" " alt="" coords="58,487,65,584,81,731,93,809,109,879,129,938,152,977,154,979,150,983,148,980,124,940,104,881,88,810,76,732,60,584,53,487"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gac044c2a9b23a166045e549e87cf16015" title="Handle PFC_START state operations." alt="" coords="163,573,312,600"/>
<area shape="poly" title=" " alt="" coords="78,485,203,563,200,567,76,489"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1dc8f3e307384996bd6c0f4bcf9c8704" title="Handle SHUTDOWN state operations." alt="" coords="160,321,314,348"/>
<area shape="poly" title=" " alt="" coords="63,458,98,416,122,391,148,370,179,352,182,357,151,374,125,395,102,419,67,461"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga03b668343def8a556453bf8f687d1f34" title="Handle SOFTSTART state operations." alt="" coords="164,661,310,688"/>
<area shape="poly" title=" " alt="" coords="64,486,99,543,124,578,152,610,202,651,199,655,148,614,119,581,94,546,60,488"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga127eaaf52bcbe81e23c9e2c1a3a2c20e" title="Reset and reinitialize comparator protection system." alt="" coords="384,73,538,100"/>
<area shape="poly" title=" " alt="" coords="289,154,324,143,416,104,418,109,326,148,291,159"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga4553469f3dfae5c9c1cb1d96f8fc5c97" title="Initialize Comparator module." alt="" coords="635,5,720,32"/>
<area shape="poly" title=" " alt="" coords="505,70,620,34,621,39,507,75"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga79780eab52f33a6dcb63d5e0a9703ec9" title="Set comparator threshold value." alt="" coords="806,5,951,32"/>
<area shape="poly" title=" " alt="" coords="720,16,790,16,790,21,720,21"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga84238c737cc149f14fc61a023dd84613" title="Execute hybrid PFM/PWM control with PI controllers." alt="" coords="394,192,528,235"/>
<area shape="poly" title=" " alt="" coords="311,216,379,214,379,219,311,221"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga23f0cb4d2dac6d0886892547dc0eba47" title="Apply anti&#45;windup to PI controller." alt="" coords="599,56,756,83"/>
<area shape="poly" title=" " alt="" coords="480,190,530,141,562,115,596,92,608,86,610,91,599,97,565,119,533,145,484,193"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga2d517a90930117bcda9492ca3f4a775e" title="Process PI controller computation." alt="" coords="602,208,753,235"/>
<area shape="poly" title=" " alt="" coords="528,213,586,215,586,221,528,218"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="607,360,748,387"/>
<area shape="poly" title=" " alt="" coords="487,233,551,296,574,323,584,334,599,346,608,351,606,356,596,350,580,338,570,326,547,299,484,237"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="822,309,935,336"/>
<area shape="poly" title=" " alt="" coords="528,190,579,180,638,174,700,177,730,184,759,194,792,214,822,240,863,294,859,297,818,244,789,218,757,198,728,189,699,183,639,180,580,185,529,196"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="605,309,750,336"/>
<area shape="poly" title=" " alt="" coords="494,233,542,264,598,295,613,301,611,306,596,300,540,269,491,238"/>
<area shape="rect" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga467c12fbae6d58401cc50a392b1fc82d" title="Ramp up with rate control." alt="" coords="627,107,728,133"/>
<area shape="poly" title=" " alt="" coords="508,189,596,150,626,137,628,142,598,154,510,194"/>
<area shape="poly" title=" " alt="" coords="750,320,806,320,806,325,750,325"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gafb7ab15ea874ceb8eed0112157a2e5b9" title="Set LLC to standby state." alt="" coords="414,309,508,336"/>
<area shape="poly" title=" " alt="" coords="273,381,372,345,398,337,400,342,374,351,275,386"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga3964b50e6ae1e0fffa533ee5ce56211d" title="Disable LLC relay." alt="" coords="402,360,520,403"/>
<area shape="poly" title=" " alt="" coords="299,390,386,384,386,389,299,396"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga5ab6542999b127993cd599854a65f2fb" title="Disable PFC relay." alt="" coords="400,427,523,469"/>
<area shape="poly" title=" " alt="" coords="300,409,385,428,384,433,299,414"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae12639ea85a4757563a55dac9b1fc54c" title="Enable PFC voltage compensation signal." alt="" coords="373,493,549,520"/>
<area shape="poly" title=" " alt="" coords="300,408,327,420,342,435,351,451,360,465,375,479,383,484,380,489,371,483,356,469,347,453,338,439,323,425,298,412"/>
<area shape="poly" title=" " alt="" coords="508,309,602,287,603,292,509,314"/>
<area shape="poly" title=" " alt="" coords="482,307,533,276,596,244,612,238,614,243,598,249,536,281,485,311"/>
<area shape="poly" title=" " alt="" coords="509,331,603,353,602,358,508,336"/>
<area shape="poly" title=" " alt="" coords="510,329,551,346,566,359,575,373,583,386,599,396,641,411,676,414,712,408,757,396,807,373,849,344,852,348,810,378,759,401,714,414,676,419,640,416,596,401,580,390,570,376,562,363,548,350,508,334"/>
<area shape="poly" title=" " alt="" coords="509,320,589,320,589,325,509,325"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gae9a4b1f0f417f77a1db32a7dc4ca1253" title="Process Multi&#45;Resonant controller computation." alt="" coords="597,461,758,488"/>
<area shape="poly" title=" " alt="" coords="510,326,531,334,551,346,570,370,576,394,583,418,599,441,614,452,611,456,595,445,578,420,571,395,565,372,548,350,529,339,508,331"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#gae3496ae9fc231061c5da379a05932c31" title="Clear GPIO pin to LOW." alt="" coords="622,512,733,539"/>
<area shape="poly" title=" " alt="" coords="522,395,551,413,568,435,576,457,583,478,599,498,609,505,606,509,596,502,578,480,571,459,564,437,548,417,519,400"/>
<area shape="poly" title=" " alt="" coords="520,467,550,479,598,497,618,504,616,509,596,503,548,484,519,472"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="627,712,728,739"/>
<area shape="poly" title=" " alt="" coords="535,518,551,530,567,551,575,573,576,616,577,657,584,678,599,698,614,709,611,714,595,702,580,680,572,658,571,616,570,574,563,554,547,534,532,523"/>
<area shape="poly" title=" " alt="" coords="303,432,323,421,339,403,347,384,354,365,371,346,398,332,400,337,375,350,359,368,351,386,344,406,327,425,306,436"/>
<area shape="poly" title=" " alt="" coords="286,431,324,420,386,401,388,406,326,425,287,437"/>
<area shape="poly" title=" " alt="" coords="322,445,384,445,384,451,322,451"/>
<area shape="poly" title=" " alt="" coords="292,459,394,486,392,491,290,464"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga2ab40e496ed47c23875cbb65b689e9a4" title="Peripheral module function implementations." alt="" coords="381,813,541,840"/>
<area shape="poly" title=" " alt="" coords="300,787,385,807,383,812,299,793"/>
<area shape="poly" title=" " alt="" coords="517,810,548,799,599,773,643,745,646,750,601,777,550,804,519,815"/>
<area shape="poly" title=" " alt="" coords="296,487,323,471,336,457,342,442,346,410,351,378,358,362,371,346,398,330,400,335,375,350,362,365,356,380,352,411,347,443,340,459,327,475,298,492"/>
<area shape="poly" title=" " alt="" coords="296,483,384,463,385,468,297,488"/>
<area shape="poly" title=" " alt="" coords="297,498,358,500,357,506,297,503"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gab84b9c81bef5d760800ce5dff4ef70e0" title="Enable fan operation." alt="" coords="384,544,538,571"/>
<area shape="poly" title=" " alt="" coords="292,510,394,537,392,542,290,515"/>
<area shape="poly" title=" " alt="" coords="312,574,368,567,369,572,313,580"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gadec52c1bfc71292a44e1e8c248ad8344" title="Disable PFC voltage compensation signal." alt="" coords="400,595,523,637"/>
<area shape="poly" title=" " alt="" coords="313,594,384,603,384,609,312,599"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae09a4fb82f031ec0de625ec8271496f4" title="Enable PFC relay." alt="" coords="378,712,544,739"/>
<area shape="poly" title=" " alt="" coords="262,598,327,647,350,675,359,686,374,698,385,703,382,708,372,702,356,690,346,678,323,651,258,603"/>
<area shape="poly" title=" " alt="" coords="520,592,548,580,632,543,634,548,550,585,522,597"/>
<area shape="poly" title=" " alt="" coords="544,723,611,723,611,728,544,728"/>
<area shape="poly" title=" " alt="" coords="315,328,399,323,399,329,315,333"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gad127a12de6fc65cf8f07d9ab3f301165" title="Execute LLC soft start sequence." alt="" coords="410,661,513,688"/>
<area shape="poly" title=" " alt="" coords="311,672,394,672,394,677,311,677"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga45f821431afea196f52f1a60f70564cd" title="Update integral term scaling for LLC controllers." alt="" coords="393,763,529,789"/>
<area shape="poly" title=" " alt="" coords="261,686,312,717,374,748,392,755,390,760,372,753,309,722,258,691"/>
<area shape="poly" title=" " alt="" coords="514,682,551,698,567,710,577,721,599,749,652,801,649,804,595,752,573,725,563,714,548,702,512,687"/>
<area shape="poly" title=" " alt="" coords="512,667,531,659,547,647,565,624,574,601,578,578,577,554,577,505,582,477,595,448,617,419,643,395,646,399,621,422,600,451,587,479,582,505,583,554,583,578,580,602,570,626,551,651,534,664,514,672"/>
<area shape="poly" title=" " alt="" coords="512,667,532,660,547,648,571,610,580,574,578,537,571,500,564,462,563,424,571,385,595,346,597,344,601,348,599,350,576,387,568,424,570,461,576,499,583,536,585,574,576,612,551,651,534,664,514,672"/>
<area shape="rect" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga99d2815051a0255cb1cfc97b4a9a42b1" title="Ramp down a value towards target." alt="" coords="632,661,723,688"/>
<area shape="poly" title=" " alt="" coords="513,672,616,672,616,677,513,677"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gafc5058be8e5904fe82c000699ae798d8_icgraph.png" border="0" usemap="#agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gafc5058be8e5904fe82c000699ae798d8_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gafc5058be8e5904fe82c000699ae798d8_icgraph" id="agroup___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t_gafc5058be8e5904fe82c000699ae798d8_icgraph">
<area shape="rect" title="Update EVSE state machine." alt="" coords="592,5,689,32"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="365,5,544,32"/>
<area shape="poly" title=" " alt="" coords="577,21,545,21,545,16,577,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="350,21,318,21,318,16,350,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="ga4c3d9d6ec4fb0b0400ba95634c1b9ac3" name="ga4c3d9d6ec4fb0b0400ba95634c1b9ac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c3d9d6ec4fb0b0400ba95634c1b9ac3">&#9670;&#160;</a></span>thisEVSE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___e_v_s_e__t.html">S_EVSE_t</a> thisEVSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global variable declarations. </p>
<p>Global EVSE state machine instance</p>
<p>Global variable declarations.</p>
<p>Local constant definitions.</p>
<p>Local macro definitions.</p>
<p>Local type definitions used only within this file.</p>
<p>Local variable declarations.</p>
<p>Global variable definitions. Global EVSE state machine instance </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
