<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LadyBug Firmware Documentation: LadyBug Application Main</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LadyBug Firmware Documentation<span id="projectnumber">&#160;v2.1</span>
   </div>
   <div id="projectbrief">Update data according main board hardware ver2.1</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group___a_p_p___l_a_d_y_b_u_g.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">LadyBug Application Main <div class="ingroups"><a class="el" href="group___a_p_p_l_i_c_a_t_i_o_n___l_a_y_e_r.html">Application Layer</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Top-level application orchestration and system control.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for LadyBug Application Main:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___l_a_d_y_b_u_g.png" border="0" usemap="#agroup______a__p__p______l__a__d__y__b__u__g" loading="lazy" alt=""/></div>
<map name="agroup______a__p__p______l__a__d__y__b__u__g" id="agroup______a__p__p______l__a__d__y__b__u__g">
<area shape="rect" href="group___a_p_p_l_i_c_a_t_i_o_n___l_a_y_e_r.html" title="High&#45;level system state management." alt="" coords="5,5,127,32"/>
<area shape="rect" title="Top&#45;level application orchestration and system control." alt="" coords="175,5,346,32"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga92575d106e9621cd83364e7921c16842" id="r_ga92575d106e9621cd83364e7921c16842"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga92575d106e9621cd83364e7921c16842">LB_system_initialization</a> ()</td></tr>
<tr class="memdesc:ga92575d106e9621cd83364e7921c16842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Include required header files.  <br /></td></tr>
<tr class="memitem:ga45b2b0ff3f21c7abe00874a5057a0efd" id="r_ga45b2b0ff3f21c7abe00874a5057a0efd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga45b2b0ff3f21c7abe00874a5057a0efd">LB_main_interrupt_service</a> ()</td></tr>
<tr class="memdesc:ga45b2b0ff3f21c7abe00874a5057a0efd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main interrupt service routine for real-time control.  <br /></td></tr>
<tr class="memitem:gaa975937fac78c9e28b50ff05c8325e2f" id="r_gaa975937fac78c9e28b50ff05c8325e2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa975937fac78c9e28b50ff05c8325e2f">LB_inf_loop_system</a> ()</td></tr>
<tr class="memdesc:gaa975937fac78c9e28b50ff05c8325e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Infinite loop processing for background tasks.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Top-level application orchestration and system control. </p>
<p>This is the top-level application module that orchestrates the entire EVSE system including:</p><ul>
<li>System initialization (all drivers and middleware layers)</li>
<li>Main interrupt service routine (10kHz ISR)</li>
<li>Infinite loop processing (background tasks)</li>
<li>Multi-tasking tick management</li>
<li>Integration of all subsystems:<ul>
<li>Driver Layer: ADC, Comparator, PWM, UART</li>
<li>Middleware Layer: Measurement, Fault Management, LLC Control, Power Control, Indicator, Peripheral, Communication</li>
<li>Application Layer: State Management</li>
</ul>
</li>
</ul>
<dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 13, 2025 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>EVSELab Co. Jsc. </dd></dl>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="gaa975937fac78c9e28b50ff05c8325e2f" name="gaa975937fac78c9e28b50ff05c8325e2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa975937fac78c9e28b50ff05c8325e2f">&#9670;&#160;</a></span>LB_inf_loop_system()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LB_inf_loop_system </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Infinite loop processing for background tasks. </p>
<p>Non-critical background processing in main loop including:</p><ul>
<li>Measurement filtering updates (process_update)</li>
<li>Fan control updates (peripheral_process_update)</li>
<li>Power derating updates (pwrctrl_process_update)</li>
<li>LED indicator updates (indicator_process_update)</li>
<li>Debug UART transmission (system status)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call continuously in while(1) main loop </dd>
<dd>
Lower priority than ISR - can be interrupted </dd>
<dd>
Handles periodic updates that don't require real-time execution</dd></dl>
<p>Non-critical background processing in main loop. Handles periodic updates that don't require real-time execution:</p>
<p><b>Periodic Updates:</b></p><ol type="1">
<li><b>Measurement Processing:</b> <a class="el" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac06a2da82bba5c606a45dfd7822e187f" title="Process measurement averaging update if flag set.">meas_process_update_()</a><ul>
<li>Moving average filter updates</li>
<li>Statistical calculations</li>
</ul>
</li>
<li><b>Fan Control Processing:</b> <a class="el" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga0d941d936181024d0a591cbf438f35cd" title="Process fan control update if flag set.">peripheral_process_update_()</a><ul>
<li>Temperature-based fan speed adjustment</li>
<li>Hysteresis-based mode switching</li>
</ul>
</li>
<li><b>Power Control Processing:</b> <a class="el" href="group___m_i_d___p_o_w_e_r___c_o_n_t_r_o_l.html#ga4967a767bd354d2ce90133a5379de3e4" title="Process periodic update when flag is set.">pwrctrl_process_update_()</a><ul>
<li>Temperature derating coefficient update</li>
<li>Voltage derating coefficient update</li>
<li>Power limit calculation</li>
</ul>
</li>
<li><b>Indicator Processing:</b> <a class="el" href="group___m_i_d___i_n_d_i_c_a_t_o_r.html#ga0ca4c4effaff4ed4cc435d9ca0dccd8b" title="Process LED update when flag is set.">indicator_process_update_()</a><ul>
<li>LED pattern generation based on state</li>
<li>Blink timing update</li>
</ul>
</li>
</ol>
<p><b>Debug Output:</b></p><ul>
<li>UART transmission of system status</li>
<li>Format: "LDB_ver260212: Vac T_LLC T_PFC Freq Duty Derate Fault Cycles"</li>
<li>Includes: AC voltage (Q15), LLC temperature, PFC temperature, PWM frequency, PWM duty cycle, derate coefficient, fault status, ISR execution cycles</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call continuously in while(1) main loop </dd>
<dd>
Lower priority than ISR - can be interrupted </dd>
<dd>
Update rates vary by module (1s typical for power control) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___l_a_d_y_b_u_g_gaa975937fac78c9e28b50ff05c8325e2f_cgraph.png" border="0" usemap="#agroup___a_p_p___l_a_d_y_b_u_g_gaa975937fac78c9e28b50ff05c8325e2f_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___l_a_d_y_b_u_g_gaa975937fac78c9e28b50ff05c8325e2f_cgraph" id="agroup___a_p_p___l_a_d_y_b_u_g_gaa975937fac78c9e28b50ff05c8325e2f_cgraph">
<area shape="rect" title="Infinite loop processing for background tasks." alt="" coords="5,260,145,287"/>
<area shape="rect" href="group___m_i_d___i_n_d_i_c_a_t_o_r.html#ga0ca4c4effaff4ed4cc435d9ca0dccd8b" title="Process LED update when flag is set." alt="" coords="193,116,369,143"/>
<area shape="poly" title=" " alt="" coords="94,257,191,187,245,149,248,154,194,192,97,262"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac06a2da82bba5c606a45dfd7822e187f" title="Process measurement averaging update if flag set." alt="" coords="201,201,360,228"/>
<area shape="poly" title=" " alt="" coords="124,257,216,230,218,235,125,262"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga0d941d936181024d0a591cbf438f35cd" title="Process fan control update if flag set." alt="" coords="216,252,346,295"/>
<area shape="poly" title=" " alt="" coords="145,271,200,271,200,276,145,276"/>
<area shape="rect" href="group___m_i_d___p_o_w_e_r___c_o_n_t_r_o_l.html#ga4967a767bd354d2ce90133a5379de3e4" title="Process periodic update when flag is set." alt="" coords="198,319,364,345"/>
<area shape="poly" title=" " alt="" coords="125,285,218,311,216,316,124,290"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga3d5254d06dbab993dda09f25f550106c" title="Get LED mode corresponding to current EVSE state." alt="" coords="208,369,354,396"/>
<area shape="poly" title=" " alt="" coords="93,285,137,320,194,355,208,361,206,366,191,360,134,324,90,289"/>
<area shape="rect" href="group___m_i_d___i_n_d_i_c_a_t_o_r.html#ga87090ef1563d11686d2f79fdecf6956b" title="Set LED mode for system status indication." alt="" coords="433,81,567,108"/>
<area shape="poly" title=" " alt="" coords="369,113,417,105,418,110,369,118"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#gae3496ae9fc231061c5da379a05932c31" title="Clear GPIO pin to LOW." alt="" coords="652,5,764,32"/>
<area shape="poly" title=" " alt="" coords="535,78,630,41,649,35,651,40,632,47,537,83"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="657,56,759,83"/>
<area shape="poly" title=" " alt="" coords="567,84,642,75,642,80,568,89"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4516b6ab8d2d78f90b0f7e365e8ed773" title="Toggle GPIO pin state." alt="" coords="649,107,767,133"/>
<area shape="poly" title=" " alt="" coords="568,100,633,108,633,114,567,105"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gab8a9c3244586ea0d412e3e391157fa5e" title="Update measurements to float format." alt="" coords="421,157,579,184"/>
<area shape="poly" title=" " alt="" coords="350,198,415,185,416,190,351,203"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac11d0b2fe43fdbaf29be8a7885271706" title="Update average values for all critical measurements." alt="" coords="417,208,583,235"/>
<area shape="poly" title=" " alt="" coords="361,214,401,216,401,221,361,220"/>
<area shape="rect" href="mid__measurement__handler_8c.html#a60b8a41f4a3ae79e98e3bf64b24b4779" title="Convert to human&#45;readable float format." alt="" coords="631,157,785,184"/>
<area shape="poly" title=" " alt="" coords="580,168,616,168,616,173,580,173"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga4ae0c65f66d88cf871a9e9ea9292d4dc" title="Measurement module function implementations." alt="" coords="636,208,780,235"/>
<area shape="poly" title=" " alt="" coords="584,219,620,219,620,224,584,224"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gad3f25e3fa1c46f5b1f3207743b9848dc" title="Update circular buffer with new value." alt="" coords="635,259,781,285"/>
<area shape="poly" title=" " alt="" coords="559,233,636,252,635,257,557,238"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae389a4ec8879fd13922b8c01b691c7c3" title="Control fan speed with rule&#45;based system." alt="" coords="422,264,578,291"/>
<area shape="poly" title=" " alt="" coords="347,272,407,273,407,278,347,277"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="651,309,765,336"/>
<area shape="poly" title=" " alt="" coords="565,289,637,304,636,310,564,294"/>
<area shape="rect" href="group___m_i_d___p_o_w_e_r___c_o_n_t_r_o_l.html#ga0d28bfa2310fbd7c34ce2ed130bc3356" title="Update derating coefficients and power calculations." alt="" coords="428,319,573,345"/>
<area shape="poly" title=" " alt="" coords="364,329,412,329,412,335,364,335"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___l_a_d_y_b_u_g_gaa975937fac78c9e28b50ff05c8325e2f_icgraph.png" border="0" usemap="#agroup___a_p_p___l_a_d_y_b_u_g_gaa975937fac78c9e28b50ff05c8325e2f_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___l_a_d_y_b_u_g_gaa975937fac78c9e28b50ff05c8325e2f_icgraph" id="agroup___a_p_p___l_a_d_y_b_u_g_gaa975937fac78c9e28b50ff05c8325e2f_icgraph">
<area shape="rect" title="Infinite loop processing for background tasks." alt="" coords="103,5,242,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ga45b2b0ff3f21c7abe00874a5057a0efd" name="ga45b2b0ff3f21c7abe00874a5057a0efd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45b2b0ff3f21c7abe00874a5057a0efd">&#9670;&#160;</a></span>LB_main_interrupt_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LB_main_interrupt_service </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main interrupt service routine for real-time control. </p>
<p>High-priority ISR running at 10kHz (100us period) that executes:</p><ol type="1">
<li>Tick all modules (multi-tasking counters)</li>
<li>Update all measurements (ADC processing)</li>
<li>Update fault detection and management</li>
<li>Process EVSE application state machine</li>
<li>Track execution time (cycle counting for performance)</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Called automatically by timer interrupt (htim_ISR) </dd>
<dd>
Maximum execution time: ~6400 cycles (varies by state) </dd>
<dd>
Critical path - must complete within 100us period</dd></dl>
<p>High-priority ISR running at 10kHz (100us period). Executes complete control loop: </p><pre class="fragment">     **Timing Measurement:**
     - Start: clkCycleStart = TIM4-&gt;CNT
     - End: clkCycleStop = TIM4-&gt;CNT
     - Delta: clkCycleDelta = Stop - Start
     - Track maximum: clkCycleDeltaMax

     **Processing Sequence:**
     1. **Multi-tasking Tick (265 cycles):** LB_system_tick_all()
     2. **Measurement Update (787 cycles):** meas_update_all_q15_()
     3. **Fault Detection (1529 cycles):** fault_update_mode_()
     4. **Application Processing (variable):** EVSE_application_process()

     **Execution Time by State:**
     - IDLE: 2048 cycles
     - PFC_START: 570 cycles
     - SOFTSTART: 2351 cycles
     - HANDSHAKE: 404 cycles
     - CHARGING (Hybrid PI): 2325 cycles
     - CHARGING (Hybrid PIR): 2824 cycles

     **Maximum Total:** ~6400 cycles (~40us @ 160MHz)
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Called automatically by timer interrupt (htim_ISR) </dd>
<dd>
Must complete within 100us period (16000 cycles @ 160MHz) </dd>
<dd>
Critical path - timing violations will cause system instability </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___l_a_d_y_b_u_g_ga45b2b0ff3f21c7abe00874a5057a0efd_cgraph.png" border="0" usemap="#agroup___a_p_p___l_a_d_y_b_u_g_ga45b2b0ff3f21c7abe00874a5057a0efd_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___l_a_d_y_b_u_g_ga45b2b0ff3f21c7abe00874a5057a0efd_cgraph" id="agroup___a_p_p___l_a_d_y_b_u_g_ga45b2b0ff3f21c7abe00874a5057a0efd_cgraph">
<area shape="rect" title="Main interrupt service routine for real&#45;time control." alt="" coords="5,485,181,512"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga8a7c85b9c345204d44030fb96316a5eb" title="EVSE application processing handler." alt="" coords="229,435,408,461"/>
<area shape="poly" title=" " alt="" coords="155,482,241,463,242,468,156,487"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#ga4edd34895d407967e0d85945fe8a4449" title="Update fault mode based on current conditions." alt="" coords="249,485,388,512"/>
<area shape="poly" title=" " alt="" coords="181,496,234,496,234,501,181,501"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga7ec30b7794b47ae2138c478f132022d2" title="Update all measurements in Q15 format." alt="" coords="241,536,396,563"/>
<area shape="poly" title=" " alt="" coords="156,510,242,529,241,535,155,515"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga9d8a8d24fe7974b4f9c60db897d689cc" title="LLC module function implementations." alt="" coords="492,359,576,385"/>
<area shape="poly" title=" " alt="" coords="355,432,455,395,477,387,479,392,457,400,357,437"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gaf9b7ebe5587e2acd7077f8ab54023a50" title="Select initial LLC operating mode at startup." alt="" coords="458,409,610,436"/>
<area shape="poly" title=" " alt="" coords="408,435,442,431,443,436,409,440"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gafc5058be8e5904fe82c000699ae798d8" title="Update EVSE state machine." alt="" coords="486,460,582,487"/>
<area shape="poly" title=" " alt="" coords="409,456,471,463,470,469,408,461"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#gadd66ff8b83b7d62ace627df52da6ad7c" title="Determine if fault should be logged to history." alt="" coords="684,56,812,83"/>
<area shape="poly" title=" " alt="" coords="582,464,597,457,610,446,626,424,637,402,645,358,642,315,633,271,624,228,621,183,630,138,642,116,658,93,669,83,673,87,662,96,646,118,635,140,626,184,629,227,638,270,647,314,651,358,642,404,631,427,614,450,600,462,584,469"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#ga2ef8a4e52363253bce2a4ceb62aa94fb" title="Check if fault conditions have cleared." alt="" coords="697,107,799,133"/>
<area shape="poly" title=" " alt="" coords="582,464,598,457,610,446,634,408,642,371,640,334,633,297,626,259,625,221,634,182,658,143,681,128,684,132,662,147,639,184,630,221,632,258,638,296,645,333,647,372,639,410,614,450,600,461,584,469"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#ga8ad70d1197990240e6cbb899640152fa" title="Enter fault standby/reset state." alt="" coords="695,157,801,184"/>
<area shape="poly" title=" " alt="" coords="582,464,597,457,610,446,630,415,638,384,638,353,633,322,629,290,628,259,637,226,658,194,679,179,682,184,662,198,642,229,634,259,634,290,638,321,643,353,643,385,635,417,614,450,600,461,584,469"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga458d338428ee338f681aea91905b4f26" title="Disable PWM output." alt="" coords="1114,259,1262,285"/>
<area shape="poly" title=" " alt="" coords="582,463,597,456,610,446,623,429,630,412,632,376,635,341,643,323,659,307,692,290,738,278,793,269,855,264,984,261,1099,264,1099,270,984,267,855,269,794,275,739,283,694,295,662,311,648,326,640,342,637,377,635,413,628,432,614,450,600,460,584,468"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga23898da2b0024e62dae58b7059f45397" title="Enable PWM output." alt="" coords="1116,813,1260,840"/>
<area shape="poly" title=" " alt="" coords="584,478,600,485,614,497,637,533,646,568,645,603,639,638,634,672,633,706,641,740,662,774,685,797,710,816,766,844,828,861,893,868,958,867,1020,861,1124,842,1125,847,1020,867,958,873,892,873,827,866,764,849,707,821,681,801,658,778,636,742,627,706,628,671,634,637,639,603,640,569,632,535,610,500,597,490,582,483"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gae908ff70c6b0b9ba54ec69dbbceca07e" title="Handle AUTORECOVERY state operations." alt="" coords="661,889,835,916"/>
<area shape="poly" title=" " alt="" coords="584,478,600,485,614,497,632,521,643,545,650,569,653,593,649,639,640,685,630,730,627,776,629,798,635,822,646,845,662,869,673,879,669,883,658,872,642,848,630,823,624,799,621,776,625,729,635,683,644,638,647,593,645,570,638,547,627,524,610,500,598,490,582,482"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1f1e0e52e3b18a3fc2ecd5b204913f16" title="Handle CHARGING state operations." alt="" coords="674,208,822,235"/>
<area shape="poly" title=" " alt="" coords="582,463,597,456,610,446,627,422,634,399,636,375,634,351,632,327,634,302,641,277,658,252,671,241,674,245,662,255,646,279,639,303,638,327,639,351,641,375,640,400,632,425,614,450,600,461,584,468"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga55640c3a709e22874c844ffee4440939" title="Handle FAULT state operations." alt="" coords="686,384,810,411"/>
<area shape="poly" title=" " alt="" coords="581,457,611,446,659,420,678,413,680,418,661,425,613,450,583,462"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gaa609d54e2438e5450f96fd281720c5cf" title="Handle FULLYCHARGED state operations." alt="" coords="664,435,832,461"/>
<area shape="poly" title=" " alt="" coords="583,465,648,457,649,462,583,470"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gad96831e426a2010e8f1da8669cf9ec46" title="Handle HANDSHAKE state operations." alt="" coords="667,737,829,764"/>
<area shape="poly" title=" " alt="" coords="584,478,600,486,614,497,632,523,641,548,643,573,642,597,641,647,648,672,662,698,678,715,697,727,694,732,675,719,658,702,643,674,636,647,636,597,638,573,636,549,628,525,610,500,597,490,582,483"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga25f2b5c68a1ec0310d97a37e6309f183" title="Handle IDLE state operations." alt="" coords="689,485,807,512"/>
<area shape="poly" title=" " alt="" coords="583,476,674,487,673,493,583,482"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1f3f76f448b8dc2495b4c6fa50d5f204" title="Check if debounce condition has finished." alt="" coords="660,940,836,967"/>
<area shape="poly" title=" " alt="" coords="584,477,600,485,614,497,634,525,647,553,654,581,656,608,651,662,638,715,625,767,620,820,623,846,630,873,643,899,662,926,664,928,660,932,658,930,638,902,625,874,618,847,615,820,620,766,633,713,646,661,651,608,648,581,642,555,629,528,610,500,598,489,582,482"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga5e3af4f6ebe90cec1287b588d1ef1bde" title="Check if delay time has finished." alt="" coords="673,991,823,1017"/>
<area shape="poly" title=" " alt="" coords="584,477,601,485,614,497,636,529,650,560,657,591,660,621,653,681,638,740,623,799,617,858,619,887,627,917,641,947,662,977,664,979,660,983,658,980,636,949,622,918,614,888,611,858,618,798,633,739,648,680,655,621,652,591,645,561,631,531,610,500,598,489,582,482"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gac044c2a9b23a166045e549e87cf16015" title="Handle PFC_START state operations." alt="" coords="673,573,823,600"/>
<area shape="poly" title=" " alt="" coords="584,484,613,496,670,529,718,562,715,566,668,533,611,501,582,489"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga1dc8f3e307384996bd6c0f4bcf9c8704" title="Handle SHUTDOWN state operations." alt="" coords="671,321,825,348"/>
<area shape="poly" title=" " alt="" coords="582,461,611,446,627,428,634,410,642,390,659,370,685,353,688,357,662,374,647,393,639,412,631,431,614,450,584,466"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#ga03b668343def8a556453bf8f687d1f34" title="Handle SOFTSTART state operations." alt="" coords="675,661,821,688"/>
<area shape="poly" title=" " alt="" coords="584,480,614,497,627,511,635,525,641,553,647,581,662,610,684,633,709,651,706,655,681,637,658,614,642,582,636,554,630,527,622,514,611,501,581,484"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga127eaaf52bcbe81e23c9e2c1a3a2c20e" title="Reset and reinitialize comparator protection system." alt="" coords="895,73,1048,100"/>
<area shape="poly" title=" " alt="" coords="800,154,835,143,927,104,929,109,837,148,802,159"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga4553469f3dfae5c9c1cb1d96f8fc5c97" title="Initialize Comparator module." alt="" coords="1146,5,1230,32"/>
<area shape="poly" title=" " alt="" coords="1016,70,1130,34,1132,39,1018,75"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga79780eab52f33a6dcb63d5e0a9703ec9" title="Set comparator threshold value." alt="" coords="1316,5,1462,32"/>
<area shape="poly" title=" " alt="" coords="1231,16,1301,16,1301,21,1231,21"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga84238c737cc149f14fc61a023dd84613" title="Execute hybrid PFM/PWM control with PI controllers." alt="" coords="905,192,1038,235"/>
<area shape="poly" title=" " alt="" coords="822,216,889,214,890,219,822,221"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga23f0cb4d2dac6d0886892547dc0eba47" title="Apply anti&#45;windup to PI controller." alt="" coords="1110,56,1267,83"/>
<area shape="poly" title=" " alt="" coords="991,190,1040,141,1072,115,1107,92,1118,86,1121,91,1109,97,1075,119,1044,145,994,193"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#ga2d517a90930117bcda9492ca3f4a775e" title="Process PI controller computation." alt="" coords="1112,208,1264,235"/>
<area shape="poly" title=" " alt="" coords="1039,213,1097,215,1096,221,1039,218"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="1118,360,1259,387"/>
<area shape="poly" title=" " alt="" coords="998,233,1062,296,1084,323,1094,334,1109,346,1119,351,1116,356,1107,350,1091,338,1080,326,1058,299,994,237"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="1332,309,1446,336"/>
<area shape="poly" title=" " alt="" coords="1038,190,1090,180,1149,174,1210,177,1241,184,1269,194,1303,214,1332,240,1374,294,1370,297,1328,244,1300,218,1267,198,1239,189,1210,183,1149,180,1091,185,1039,196"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="1116,309,1261,336"/>
<area shape="poly" title=" " alt="" coords="1005,233,1053,264,1109,295,1124,301,1122,306,1107,300,1050,269,1002,238"/>
<area shape="rect" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga467c12fbae6d58401cc50a392b1fc82d" title="Ramp up with rate control." alt="" coords="1138,107,1239,133"/>
<area shape="poly" title=" " alt="" coords="1019,189,1107,150,1137,137,1139,142,1109,154,1021,194"/>
<area shape="poly" title=" " alt="" coords="1261,320,1317,320,1317,325,1261,325"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gafb7ab15ea874ceb8eed0112157a2e5b9" title="Set LLC to standby state." alt="" coords="925,309,1019,336"/>
<area shape="poly" title=" " alt="" coords="784,381,883,345,909,337,911,342,885,351,786,386"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga3964b50e6ae1e0fffa533ee5ce56211d" title="Disable LLC relay." alt="" coords="913,360,1031,403"/>
<area shape="poly" title=" " alt="" coords="810,390,897,384,897,389,810,396"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga5ab6542999b127993cd599854a65f2fb" title="Disable PFC relay." alt="" coords="910,427,1034,469"/>
<area shape="poly" title=" " alt="" coords="810,409,896,428,895,433,809,414"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae12639ea85a4757563a55dac9b1fc54c" title="Enable PFC voltage compensation signal." alt="" coords="884,493,1060,520"/>
<area shape="poly" title=" " alt="" coords="811,408,837,420,853,435,862,451,870,465,885,479,894,484,891,489,882,483,866,469,857,453,849,439,834,425,809,412"/>
<area shape="poly" title=" " alt="" coords="1019,309,1112,287,1114,292,1020,314"/>
<area shape="poly" title=" " alt="" coords="993,307,1044,276,1107,244,1123,238,1125,243,1109,249,1047,281,996,311"/>
<area shape="poly" title=" " alt="" coords="1020,331,1114,353,1112,358,1019,336"/>
<area shape="poly" title=" " alt="" coords="1020,329,1061,346,1077,359,1085,373,1094,386,1109,396,1152,411,1187,414,1223,408,1267,396,1318,373,1360,344,1363,348,1321,378,1269,401,1224,414,1187,419,1150,416,1107,401,1090,390,1081,376,1073,363,1059,350,1018,334"/>
<area shape="poly" title=" " alt="" coords="1020,320,1100,320,1100,325,1020,325"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gae9a4b1f0f417f77a1db32a7dc4ca1253" title="Process Multi&#45;Resonant controller computation." alt="" coords="1108,461,1268,488"/>
<area shape="poly" title=" " alt="" coords="1020,326,1042,334,1062,346,1080,370,1087,394,1093,418,1110,441,1125,452,1122,456,1106,445,1089,420,1082,395,1076,372,1058,350,1040,339,1019,331"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#gae3496ae9fc231061c5da379a05932c31" title="Clear GPIO pin to LOW." alt="" coords="1132,512,1244,539"/>
<area shape="poly" title=" " alt="" coords="1033,395,1062,413,1079,435,1086,457,1093,478,1110,498,1120,505,1117,509,1106,502,1089,480,1081,459,1074,437,1058,417,1030,400"/>
<area shape="poly" title=" " alt="" coords="1031,467,1061,479,1109,497,1129,504,1127,509,1107,503,1059,484,1029,472"/>
<area shape="rect" href="group___d_r_v___g_p_i_o.html#ga4271fb2a50347e4f4489da04a31bf6f4" title="Include public and private headers." alt="" coords="1138,712,1239,739"/>
<area shape="poly" title=" " alt="" coords="1046,518,1062,530,1078,551,1086,573,1087,616,1088,657,1095,678,1110,698,1125,709,1122,714,1106,702,1090,680,1083,658,1082,616,1080,574,1073,554,1058,534,1043,523"/>
<area shape="poly" title=" " alt="" coords="814,432,834,421,850,403,857,384,865,365,882,346,909,332,911,337,885,350,870,368,862,386,854,406,837,425,817,436"/>
<area shape="poly" title=" " alt="" coords="797,431,835,420,897,401,899,406,836,425,798,437"/>
<area shape="poly" title=" " alt="" coords="832,445,895,445,895,451,832,451"/>
<area shape="poly" title=" " alt="" coords="802,459,904,486,903,491,801,464"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#ga2ab40e496ed47c23875cbb65b689e9a4" title="Peripheral module function implementations." alt="" coords="892,813,1052,840"/>
<area shape="poly" title=" " alt="" coords="785,762,885,799,907,806,905,811,883,804,783,767"/>
<area shape="poly" title=" " alt="" coords="1028,810,1059,799,1109,773,1153,745,1156,750,1112,777,1061,804,1029,815"/>
<area shape="poly" title=" " alt="" coords="806,487,834,471,846,457,853,442,857,410,861,378,869,362,882,346,908,330,911,335,885,350,873,365,866,380,862,411,858,443,851,459,837,475,809,492"/>
<area shape="poly" title=" " alt="" coords="807,483,894,463,896,468,808,488"/>
<area shape="poly" title=" " alt="" coords="808,498,868,500,868,506,807,503"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gab84b9c81bef5d760800ce5dff4ef70e0" title="Enable fan operation." alt="" coords="895,544,1049,571"/>
<area shape="poly" title=" " alt="" coords="802,510,904,537,903,542,801,515"/>
<area shape="poly" title=" " alt="" coords="823,574,879,567,880,572,823,580"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gadec52c1bfc71292a44e1e8c248ad8344" title="Disable PFC voltage compensation signal." alt="" coords="910,595,1034,637"/>
<area shape="poly" title=" " alt="" coords="823,594,895,603,894,609,823,599"/>
<area shape="rect" href="group___m_i_d___p_e_r_i_p_h_e_r_a_l.html#gae09a4fb82f031ec0de625ec8271496f4" title="Enable PFC relay." alt="" coords="889,712,1054,739"/>
<area shape="poly" title=" " alt="" coords="772,598,837,647,861,675,870,686,885,698,895,703,893,708,882,702,866,690,856,678,834,651,769,603"/>
<area shape="poly" title=" " alt="" coords="1031,592,1059,580,1142,543,1145,548,1061,585,1033,597"/>
<area shape="poly" title=" " alt="" coords="1055,723,1122,723,1122,728,1055,728"/>
<area shape="poly" title=" " alt="" coords="825,328,909,323,910,329,826,333"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#gad127a12de6fc65cf8f07d9ab3f301165" title="Execute LLC soft start sequence." alt="" coords="920,661,1024,688"/>
<area shape="poly" title=" " alt="" coords="822,672,904,672,904,677,822,677"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga45f821431afea196f52f1a60f70564cd" title="Update integral term scaling for LLC controllers." alt="" coords="904,763,1040,789"/>
<area shape="poly" title=" " alt="" coords="774,686,885,748,902,755,900,760,883,753,772,691"/>
<area shape="poly" title=" " alt="" coords="1025,682,1061,698,1077,710,1088,721,1110,749,1163,801,1159,804,1106,752,1084,725,1074,714,1059,702,1023,687"/>
<area shape="poly" title=" " alt="" coords="1023,667,1042,659,1058,647,1076,624,1085,601,1088,578,1088,554,1088,505,1093,477,1106,448,1128,419,1153,395,1157,399,1132,422,1110,451,1098,479,1093,505,1093,554,1094,578,1090,602,1081,626,1062,651,1045,664,1025,672"/>
<area shape="poly" title=" " alt="" coords="1023,667,1042,660,1058,648,1082,610,1090,574,1089,537,1082,500,1075,462,1073,424,1082,385,1106,346,1108,344,1112,348,1110,350,1087,387,1079,424,1080,461,1087,499,1094,536,1096,574,1087,612,1062,651,1045,664,1025,672"/>
<area shape="rect" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga99d2815051a0255cb1cfc97b4a9a42b1" title="Ramp down a value towards target." alt="" coords="1143,661,1233,688"/>
<area shape="poly" title=" " alt="" coords="1024,672,1127,672,1127,677,1024,677"/>
<area shape="rect" href="group___d_r_v___a_d_c.html#ga5bff6d15fc0bf77d4b07f54700f4c434" title="Read and process ADC conversion results." alt="" coords="478,511,591,537"/>
<area shape="poly" title=" " alt="" coords="396,538,462,530,462,535,396,543"/>
<area shape="rect" href="mid__measurement__handler_8c.html#abfe051fb6eeef8a004f7a56dcdb1a0ef" title="Convert raw ADC value to Q15 format." alt="" coords="456,561,612,588"/>
<area shape="poly" title=" " alt="" coords="396,556,441,561,440,566,396,561"/>
<area shape="rect" href="mid__measurement__handler_8c.html#a79486749f0f8934f861610a7c7005b63" title="Set raw ADC value in measurement structure." alt="" coords="458,612,610,639"/>
<area shape="poly" title=" " alt="" coords="357,561,457,597,476,604,475,609,455,603,355,566"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___l_a_d_y_b_u_g_ga45b2b0ff3f21c7abe00874a5057a0efd_icgraph.png" border="0" usemap="#agroup___a_p_p___l_a_d_y_b_u_g_ga45b2b0ff3f21c7abe00874a5057a0efd_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___l_a_d_y_b_u_g_ga45b2b0ff3f21c7abe00874a5057a0efd_icgraph" id="agroup___a_p_p___l_a_d_y_b_u_g_ga45b2b0ff3f21c7abe00874a5057a0efd_icgraph">
<area shape="rect" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="ga92575d106e9621cd83364e7921c16842" name="ga92575d106e9621cd83364e7921c16842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92575d106e9621cd83364e7921c16842">&#9670;&#160;</a></span>LB_system_initialization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LB_system_initialization </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Include required header files. </p>
<p>Public constant definitions.</p>
<p>Public macro definitions.</p>
<p>Type definitions used in LadyBug module.</p>
<p>Global variable declarations.</p>
<p>Global function prototypes.</p>
<p>Initialize entire LadyBug EVSE system.</p>
<p>Performs complete system initialization in proper sequence:</p><ol type="1">
<li>Driver Layer: ADC, Comparator, PWM, UART (commented)</li>
<li>Middleware Layer: Indicator, Measurement system, Fault management, LLC controller, Power control</li>
<li>Application Layer: State machine (initial state: IDLE)</li>
<li>Start main ISR timer (htim_ISR)</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Must be called once at system startup before entering main loop </dd>
<dd>
Initialization order is critical for proper dependency management</dd></dl>
<p>Include required header files.</p>
<p>Initialize entire LadyBug EVSE system.</p>
<p>Performs complete system initialization in three layers: </p><pre class="fragment">     **Driver Layer:**
     - ADC initialization (adc_init_)
     - Comparator initialization (comp_init_)
     - PWM initialization (pwm_init_)
     - UART initialization (uart_transmit_ - commented out)

     **Middleware Layer:**
     - Indicator initialization (indicator_init_)
     - Measurement system initialization (meas_init_system_)
     - Fault management initialization (fault_init_)
     - LLC controller initialization (llc_init_)
     - Power control initialization (pwrctrl_init_)

     **Application Layer:**
     - State machine initialization (state_init with EVSE_STATE_IDLE)
     - Communication initialization (communication_transmit)

     **Start Real-Time Operation:**
     - Enable main ISR timer (HAL_TIM_Base_Start_IT)
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Must be called once at system startup before entering main loop </dd>
<dd>
Initialization order is critical for proper dependency management </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___l_a_d_y_b_u_g_ga92575d106e9621cd83364e7921c16842_cgraph.png" border="0" usemap="#agroup___a_p_p___l_a_d_y_b_u_g_ga92575d106e9621cd83364e7921c16842_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___l_a_d_y_b_u_g_ga92575d106e9621cd83364e7921c16842_cgraph" id="agroup___a_p_p___l_a_d_y_b_u_g_ga92575d106e9621cd83364e7921c16842_cgraph">
<area shape="rect" title="Include required header files." alt="" coords="5,284,168,311"/>
<area shape="rect" href="group___d_r_v___a_d_c.html#gab85cb16e003e34435b1bba7bfecbb5b9" title="Initialize ADC module." alt="" coords="261,56,334,83"/>
<area shape="poly" title=" " alt="" coords="90,283,105,245,131,194,167,140,189,115,214,92,245,77,247,82,217,97,193,118,172,143,136,197,110,247,95,285"/>
<area shape="rect" href="group___m_i_d___c_o_m_m_u_n_i_c_a_t_i_o_n.html#ga12a29b269b35d338dc89c582752db844" title="Include public and private headers." alt="" coords="216,107,379,133"/>
<area shape="poly" title=" " alt="" coords="93,282,139,216,173,177,214,143,223,138,226,142,217,148,177,181,143,219,98,285"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga4553469f3dfae5c9c1cb1d96f8fc5c97" title="Initialize Comparator module." alt="" coords="255,157,340,184"/>
<area shape="poly" title=" " alt="" coords="100,282,148,239,180,215,214,194,239,183,242,188,217,198,183,219,151,243,103,286"/>
<area shape="rect" href="group___m_i_d___f_a_u_l_t___m_a_n_a_g_e_m_e_n_t.html#ga83ee51b190a2d91e7de7eddf4ac2c2dc" title="Public function implementations." alt="" coords="259,208,336,235"/>
<area shape="poly" title=" " alt="" coords="120,281,215,244,243,235,245,240,217,249,122,286"/>
<area shape="rect" href="group___m_i_d___i_n_d_i_c_a_t_o_r.html#ga584a458491d250205bc2cad2c474f929" title="Public function implementations." alt="" coords="247,259,348,285"/>
<area shape="poly" title=" " alt="" coords="168,285,231,277,232,282,169,290"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga0e7d5275707c1aca1328f973c75cfa83" title="Initialize LLC control module." alt="" coords="265,309,330,336"/>
<area shape="poly" title=" " alt="" coords="169,304,249,314,249,320,168,310"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gaeda8e8d8c2e6a1efbaacdcc006494774" title="Initialize measurement system." alt="" coords="230,411,364,437"/>
<area shape="poly" title=" " alt="" coords="112,309,262,400,259,405,109,313"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad26ba1293cce44ad8a1b1ef12a88e339" title="Initialize PWM module." alt="" coords="257,512,338,539"/>
<area shape="poly" title=" " alt="" coords="101,310,150,371,218,447,271,500,268,504,214,451,146,374,97,313"/>
<area shape="rect" href="group___m_i_d___p_o_w_e_r___c_o_n_t_r_o_l.html#ga3ea28682838bb6082b26dbaf4b46d561" title="Global function prototypes." alt="" coords="252,563,343,589"/>
<area shape="poly" title=" " alt="" coords="93,311,106,356,130,420,166,489,190,521,217,549,238,561,236,566,214,553,186,524,162,492,125,423,101,358,88,312"/>
<area shape="rect" href="group___a_p_p___s_t_a_t_e___m_a_n_a_g_e_m_e_n_t.html#gab6279279ac9e404eedf7848ce01d529c" title="Global function prototypes." alt="" coords="260,613,334,640"/>
<area shape="poly" title=" " alt="" coords="92,311,102,364,123,442,140,484,161,526,186,565,217,599,247,616,244,620,214,603,182,569,156,529,135,487,118,444,97,366,87,312"/>
<area shape="rect" href="group___d_r_v___a_d_c.html#ga16393acb40aae65ca9e14eb2444f55c5" title="Perform ADC calibration." alt="" coords="478,5,583,32"/>
<area shape="poly" title=" " alt="" coords="334,59,462,31,463,36,335,64"/>
<area shape="rect" href="group___d_r_v___a_d_c.html#gad85cb208269700f968f1441beb35bf8a" title="Start ADC conversion using DMA mode." alt="" coords="454,56,606,83"/>
<area shape="poly" title=" " alt="" coords="335,67,438,67,438,72,335,72"/>
<area shape="rect" href="group___d_r_v___u_a_r_t.html#ga1c5535d40e1775b20bd71079b44e1a84" title="Transmit data via UART using DMA." alt="" coords="478,107,582,133"/>
<area shape="poly" title=" " alt="" coords="379,117,462,117,462,123,379,123"/>
<area shape="rect" href="group___d_r_v___c_o_m_p.html#ga79780eab52f33a6dcb63d5e0a9703ec9" title="Set comparator threshold value." alt="" coords="458,157,603,184"/>
<area shape="poly" title=" " alt="" coords="340,168,442,168,442,173,340,173"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gadd845e487a875c4bc2392010cc7375de" title="Include required header files." alt="" coords="460,208,600,235"/>
<area shape="poly" title=" " alt="" coords="330,314,354,306,378,295,392,283,401,270,410,257,426,244,444,235,446,240,428,249,414,261,405,273,396,286,380,300,356,311,331,319"/>
<area shape="rect" href="group___m_i_d___l_l_c.html#ga9d8a8d24fe7974b4f9c60db897d689cc" title="LLC module function implementations." alt="" coords="488,259,572,285"/>
<area shape="poly" title=" " alt="" coords="330,313,473,282,474,287,331,318"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gabae91be5774aed961bfe05a7e3229dde" title="Configure Multi&#45;Resonant controller." alt="" coords="455,309,605,336"/>
<area shape="poly" title=" " alt="" coords="330,320,440,320,440,325,330,325"/>
<area shape="rect" href="group___m_i_d___c_o_n_t_r_o_l_l_e_r.html#gae1aa5e0d60c20343e3e411317c199905" title="Configure individual resonant controller element." alt="" coords="427,360,633,387"/>
<area shape="poly" title=" " alt="" coords="331,327,451,354,450,359,330,332"/>
<area shape="rect" href="mid__measurement__handler_8c.html#aecfbba2e55ac8e1591036ef6f6dae1e9" title="Configure measurement update control structure." alt="" coords="479,411,581,437"/>
<area shape="poly" title=" " alt="" coords="365,421,463,421,463,427,365,427"/>
<area shape="rect" href="mid__measurement__handler_8c.html#a72e64b9fe21b4404cf1ec1b550b0d3bc" title="Initialize measurement structure." alt="" coords="469,461,591,488"/>
<area shape="poly" title=" " alt="" coords="363,435,455,456,453,461,362,441"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga23898da2b0024e62dae58b7059f45397" title="Enable PWM output." alt="" coords="458,512,602,539"/>
<area shape="poly" title=" " alt="" coords="338,523,442,523,442,528,338,528"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gad39744fcb0ef85f0b63c4dec1a62ca63" title="Set PWM dead&#45;time." alt="" coords="460,563,601,589"/>
<area shape="poly" title=" " alt="" coords="338,531,451,556,450,561,337,537"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#ga116567f2c1c3d8f8419bc896bf1fd293" title="Set PWM duty cycle." alt="" coords="681,639,795,665"/>
<area shape="poly" title=" " alt="" coords="339,531,380,548,396,562,405,575,414,588,428,599,487,623,550,639,611,647,666,650,665,656,611,652,549,644,486,628,426,604,410,591,400,578,392,565,378,553,337,536"/>
<area shape="rect" href="group___d_r_v___p_w_m.html#gaaad481cc551cace115ec60a74249a1da" title="Set PWM frequency." alt="" coords="458,664,603,691"/>
<area shape="poly" title=" " alt="" coords="339,529,361,536,381,549,399,573,406,597,412,621,429,643,447,655,444,660,425,647,407,623,400,599,394,575,377,553,358,541,337,534"/>
<area shape="poly" title=" " alt="" coords="603,666,665,658,666,663,604,671"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_p_p___l_a_d_y_b_u_g_ga92575d106e9621cd83364e7921c16842_icgraph.png" border="0" usemap="#agroup___a_p_p___l_a_d_y_b_u_g_ga92575d106e9621cd83364e7921c16842_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___a_p_p___l_a_d_y_b_u_g_ga92575d106e9621cd83364e7921c16842_icgraph" id="agroup___a_p_p___l_a_d_y_b_u_g_ga92575d106e9621cd83364e7921c16842_icgraph">
<area shape="rect" title="Include required header files." alt="" coords="103,5,265,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
