<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LadyBug Firmware Documentation: Measurement Middleware</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LadyBug Firmware Documentation<span id="projectnumber">&#160;v2.1</span>
   </div>
   <div id="projectbrief">Update data according main board hardware ver2.1</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Measurement Middleware <div class="ingroups"><a class="el" href="group___m_i_d_d_l_e_w_a_r_e___l_a_y_e_r.html">Middleware Layer</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>ADC measurement processing and filtering.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Measurement Middleware:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.png" border="0" usemap="#agroup______m__i__d______m__e__a__s__u__r__e__m__e__n__t" loading="lazy" alt=""/></div>
<map name="agroup______m__i__d______m__e__a__s__u__r__e__m__e__n__t" id="agroup______m__i__d______m__e__a__s__u__r__e__m__e__n__t">
<area shape="rect" href="group___m_i_d_d_l_e_w_a_r_e___l_a_y_e_r.html" title="Control logic and system services." alt="" coords="5,5,129,32"/>
<area shape="rect" title="ADC measurement processing and filtering." alt="" coords="177,5,347,32"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:S_5FMeas_5FTypeDef" id="r_S_5FMeas_5FTypeDef"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measurement data structure.  <a href="struct_s___meas___type_def.html#details">More...</a><br /></td></tr>
<tr class="memitem:S_5FMeas_5FUpdateTypeDef" id="r_S_5FMeas_5FUpdateTypeDef"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s___meas___update_type_def.html">S_Meas_UpdateTypeDef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measurement update control structure.  <a href="struct_s___meas___update_type_def.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga00978ca9e8220475258dcbbbb7d29129" id="r_ga00978ca9e8220475258dcbbbb7d29129"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga00978ca9e8220475258dcbbbb7d29129">ADC_RESOLUTION</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:ga00978ca9e8220475258dcbbbb7d29129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Include required header files.  <br /></td></tr>
<tr class="memitem:ga2d1a4aea304ac3245de4864f342386a5" id="r_ga2d1a4aea304ac3245de4864f342386a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2d1a4aea304ac3245de4864f342386a5">ADC_Q15_SCALING_SHIFT</a>&#160;&#160;&#160;<a class="el" href="#ga00978ca9e8220475258dcbbbb7d29129">ADC_RESOLUTION</a> - 15</td></tr>
<tr class="memitem:ga598a3330b3c21701223ee0ca14316eca" id="r_ga598a3330b3c21701223ee0ca14316eca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a>&#160;&#160;&#160;(3.14159265358979323846f)</td></tr>
<tr class="memitem:gaa04c6a936cc5e074c3ad740ed9cd8d91" id="r_gaa04c6a936cc5e074c3ad740ed9cd8d91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa04c6a936cc5e074c3ad740ed9cd8d91">LPF_GAIN_0_5Hz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 0.5f     / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:gaf6c086114ebb6a0b9cc0cf100b8571d5" id="r_gaf6c086114ebb6a0b9cc0cf100b8571d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6c086114ebb6a0b9cc0cf100b8571d5">LPF_GAIN_001Hz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 1.0f     / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:ga78594fbdc942b34093ee5fc0d090b1dc" id="r_ga78594fbdc942b34093ee5fc0d090b1dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga78594fbdc942b34093ee5fc0d090b1dc">LPF_GAIN_010Hz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 10.0f    / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:ga014489e5e28d84fc7a2c4cec657f4974" id="r_ga014489e5e28d84fc7a2c4cec657f4974"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga014489e5e28d84fc7a2c4cec657f4974">LPF_GAIN_100Hz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 100.0f   / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:ga2664033b34c3c90b073c968acce2d7fa" id="r_ga2664033b34c3c90b073c968acce2d7fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2664033b34c3c90b073c968acce2d7fa">LPF_GAIN_200Hz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 200.0f   / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:ga34acd14de9f6b082b4c79648ff46e382" id="r_ga34acd14de9f6b082b4c79648ff46e382"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga34acd14de9f6b082b4c79648ff46e382">LPF_GAIN_500Hz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 500.0f   / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:gaa5ac57fd7b9b8c23f190c665669c16ec" id="r_gaa5ac57fd7b9b8c23f190c665669c16ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa5ac57fd7b9b8c23f190c665669c16ec">LPF_GAIN_01kHz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 1000.0f  / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:gadc81313f351db6889e7fd9cdcd2f15be" id="r_gadc81313f351db6889e7fd9cdcd2f15be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadc81313f351db6889e7fd9cdcd2f15be">LPF_GAIN_02kHz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 2000.0f  / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:ga1eb986adeafd6c682abf5d74c9f894a1" id="r_ga1eb986adeafd6c682abf5d74c9f894a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1eb986adeafd6c682abf5d74c9f894a1">LPF_GAIN_10kHz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 10000.0f / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:ga1ca9de5bf392c80548f71598657ae3e8" id="r_ga1ca9de5bf392c80548f71598657ae3e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1ca9de5bf392c80548f71598657ae3e8">LPF_GAIN_20kHz_T</a>&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 20000.0f / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td></tr>
<tr class="memitem:gaf70488a52665daeeca8e1500589ba15a" id="r_gaf70488a52665daeeca8e1500589ba15a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf70488a52665daeeca8e1500589ba15a">NUMBER_SAMPLE</a>&#160;&#160;&#160;4</td></tr>
<tr class="memitem:ga18b64507b88f9b541887105cac18eedc" id="r_ga18b64507b88f9b541887105cac18eedc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga18b64507b88f9b541887105cac18eedc">SHIFT_BITS</a>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:gada2a97e6d53578ecee1524a961026a56" id="r_gada2a97e6d53578ecee1524a961026a56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gada2a97e6d53578ecee1524a961026a56">THERMAL_PFC_SCALE_FACTOR</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memitem:ga06f58793ac2c7adab63f2431d44a3447" id="r_ga06f58793ac2c7adab63f2431d44a3447"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga06f58793ac2c7adab63f2431d44a3447">THERMAL_LLC_SCALE_FACTOR</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memitem:ga2024ed324ddd83a01d24d047f2374993" id="r_ga2024ed324ddd83a01d24d047f2374993"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2024ed324ddd83a01d24d047f2374993">THERMAL_PFC_STATIC_OFFSET</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memitem:gae922cbc27dfde4bd275cfc4677438cc1" id="r_gae922cbc27dfde4bd275cfc4677438cc1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae922cbc27dfde4bd275cfc4677438cc1">THERMAL_LLC_STATIC_OFFSET</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memitem:ga2fd139f13cd4e78633ed94566ed88a5e" id="r_ga2fd139f13cd4e78633ed94566ed88a5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2fd139f13cd4e78633ed94566ed88a5e">CALC_METHOD_DIRECT</a>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:ga56e3cfe163ad4341e9f5cb2d423e5527" id="r_ga56e3cfe163ad4341e9f5cb2d423e5527"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga56e3cfe163ad4341e9f5cb2d423e5527">CALC_METHOD_Q15</a>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:ga5ff403a86b1b6f0d079b926c3cd6a17d" id="r_ga5ff403a86b1b6f0d079b926c3cd6a17d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5ff403a86b1b6f0d079b926c3cd6a17d">AC_VOLTAGE_GAIN_F32</a>&#160;&#160;&#160;-0.005402014f</td></tr>
<tr class="memitem:ga23ee6771cd927869c262321ac1ee7cfc" id="r_ga23ee6771cd927869c262321ac1ee7cfc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga23ee6771cd927869c262321ac1ee7cfc">AC_VOLTAGE_OFFSET_F32</a>&#160;&#160;&#160;361.787892517f</td></tr>
<tr class="memitem:ga4ee8daf2e6b01407bbc981d596aecb79" id="r_ga4ee8daf2e6b01407bbc981d596aecb79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4ee8daf2e6b01407bbc981d596aecb79">THERMAL_LLC_GAIN_F32</a>&#160;&#160;&#160;-0.012160374f</td></tr>
<tr class="memitem:ga8c2b180a989fa02b93e3ece84730e6bd" id="r_ga8c2b180a989fa02b93e3ece84730e6bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8c2b180a989fa02b93e3ece84730e6bd">THERMAL_LLC_OFFSET_F32</a>&#160;&#160;&#160;431.6594374f</td></tr>
<tr class="memitem:ga82f4f60c5ca06dc05e0658f32a252846" id="r_ga82f4f60c5ca06dc05e0658f32a252846"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga82f4f60c5ca06dc05e0658f32a252846">THERMAL_PFC_GAIN_F32</a>&#160;&#160;&#160;-0.012160374f</td></tr>
<tr class="memitem:ga434948e9dc2838f91cc4e2f5c2a83172" id="r_ga434948e9dc2838f91cc4e2f5c2a83172"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga434948e9dc2838f91cc4e2f5c2a83172">THERMAL_PFC_OFFSET_F32</a>&#160;&#160;&#160;431.6594374f</td></tr>
<tr class="memitem:gad569ab711a5fb31deb4a90bcb101e403" id="r_gad569ab711a5fb31deb4a90bcb101e403"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad569ab711a5fb31deb4a90bcb101e403">MEAS_AVG_UPDATE_PERIOD_TICKS</a>&#160;&#160;&#160;200U</td></tr>
<tr class="memitem:gac218eaa6c96bc6a94a951f7fe57ffaf5" id="r_gac218eaa6c96bc6a94a951f7fe57ffaf5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac218eaa6c96bc6a94a951f7fe57ffaf5">BAT_CURRENT_HIGH_LIMIT_HARD</a>&#160;&#160;&#160;52.55f</td></tr>
<tr class="memitem:gacd52246a8e750f96fd70de622a034669" id="r_gacd52246a8e750f96fd70de622a034669"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacd52246a8e750f96fd70de622a034669">BAT_CURRENT_HIGH_LIMIT_SOFT</a>&#160;&#160;&#160;20.0f</td></tr>
<tr class="memitem:gaaa071ed164bf4e96f469b5c4ac1d638c" id="r_gaaa071ed164bf4e96f469b5c4ac1d638c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaa071ed164bf4e96f469b5c4ac1d638c">BAT_CURRENT_SCALE_FACTOR</a>&#160;&#160;&#160;(<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>)(<a class="el" href="#gac218eaa6c96bc6a94a951f7fe57ffaf5">BAT_CURRENT_HIGH_LIMIT_HARD</a>/<a class="el" href="#gacd52246a8e750f96fd70de622a034669">BAT_CURRENT_HIGH_LIMIT_SOFT</a>*32768.0f + 0.5f)</td></tr>
<tr class="memitem:gaf3fb3bb1ca21d5ada6e9a7ca7c1907dd" id="r_gaf3fb3bb1ca21d5ada6e9a7ca7c1907dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf3fb3bb1ca21d5ada6e9a7ca7c1907dd">BAT_CURRENT_STATIC_OFFSET</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memitem:gafcf30de43f7120fe55757574f4490fd3" id="r_gafcf30de43f7120fe55757574f4490fd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafcf30de43f7120fe55757574f4490fd3">BAT_VOLTAGE_HIGH_LIMIT_HARD</a>&#160;&#160;&#160;109.3547156f</td></tr>
<tr class="memitem:ga097bac9a5eb4dea8f5b0807cc52a3b68" id="r_ga097bac9a5eb4dea8f5b0807cc52a3b68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>&#160;&#160;&#160;95.0f</td></tr>
<tr class="memitem:ga54628eee364fce4bfad1ea5eb6673fb2" id="r_ga54628eee364fce4bfad1ea5eb6673fb2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga54628eee364fce4bfad1ea5eb6673fb2">BAT_VOLTAGE_SCALE_FACTOR</a>&#160;&#160;&#160;(<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>)(<a class="el" href="#gafcf30de43f7120fe55757574f4490fd3">BAT_VOLTAGE_HIGH_LIMIT_HARD</a>/<a class="el" href="#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>*32768.0f + 0.5f)</td></tr>
<tr class="memitem:ga338f9a492d2d254d2be62985bcb0d45b" id="r_ga338f9a492d2d254d2be62985bcb0d45b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga338f9a492d2d254d2be62985bcb0d45b">BAT_VOLTAGE_STATIC_OFFSET</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memitem:ga455adf5cb152b427373ffc63d1d4d4ce" id="r_ga455adf5cb152b427373ffc63d1d4d4ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga455adf5cb152b427373ffc63d1d4d4ce">DC_VOLTAGE_HIGH_LIMIT_HARD</a>&#160;&#160;&#160;109.3547156f</td></tr>
<tr class="memitem:ga9957e5854bd5e64e94951a0efb0c2c69" id="r_ga9957e5854bd5e64e94951a0efb0c2c69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9957e5854bd5e64e94951a0efb0c2c69">DC_VOLTAGE_HIGH_LIMIT_SOFT</a>&#160;&#160;&#160;95.0f</td></tr>
<tr class="memitem:gaa4ec4d063711ad8951e57c3fde88c59f" id="r_gaa4ec4d063711ad8951e57c3fde88c59f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa4ec4d063711ad8951e57c3fde88c59f">DC_VOLTAGE_SCALE_FACTOR</a>&#160;&#160;&#160;(<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>)(<a class="el" href="#gafcf30de43f7120fe55757574f4490fd3">BAT_VOLTAGE_HIGH_LIMIT_HARD</a>/<a class="el" href="#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>*32768.0f + 0.5f)</td></tr>
<tr class="memitem:gaa8148cd6472af9293af1d4c191383fc4" id="r_gaa8148cd6472af9293af1d4c191383fc4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa8148cd6472af9293af1d4c191383fc4">DC_VOLTAGE_STATIC_OFFSET</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memitem:gaaba8d268402a773c79c8be5c8ebcca5a" id="r_gaaba8d268402a773c79c8be5c8ebcca5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaba8d268402a773c79c8be5c8ebcca5a">AC_VOLTAGE_HIGH_LIMIT_HARD</a>&#160;&#160;&#160;100.0f</td></tr>
<tr class="memitem:gae06328106108b5fbbe4b87b5d14a5e2b" id="r_gae06328106108b5fbbe4b87b5d14a5e2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae06328106108b5fbbe4b87b5d14a5e2b">AC_VOLTAGE_HGIH_LIMIT_SOFT</a>&#160;&#160;&#160;75.0f</td></tr>
<tr class="memitem:ga888029d7a7fff096ae6fc180fc640775" id="r_ga888029d7a7fff096ae6fc180fc640775"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga888029d7a7fff096ae6fc180fc640775">AC_VOLTAGE_SCALE_FACTOR</a>&#160;&#160;&#160;(<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>)(<a class="el" href="#gaaba8d268402a773c79c8be5c8ebcca5a">AC_VOLTAGE_HIGH_LIMIT_HARD</a>/<a class="el" href="#gae06328106108b5fbbe4b87b5d14a5e2b">AC_VOLTAGE_HGIH_LIMIT_SOFT</a>*32768.0f + 0.5f)</td></tr>
<tr class="memitem:ga4faee152e84de8e007cce59f2b48b286" id="r_ga4faee152e84de8e007cce59f2b48b286"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4faee152e84de8e007cce59f2b48b286">AC_VOLTAGE_STATIC_OFFSET</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memitem:ga44e359e7ebada8996e9a4e000a118f6a" id="r_ga44e359e7ebada8996e9a4e000a118f6a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga44e359e7ebada8996e9a4e000a118f6a">VAC_FLOAT_TO_Q15</a>(v)</td></tr>
<tr class="memdesc:ga44e359e7ebada8996e9a4e000a118f6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public macro definitions.  <br /></td></tr>
<tr class="memitem:ga2c0cfc2e52acc6199524d5517e3ca022" id="r_ga2c0cfc2e52acc6199524d5517e3ca022"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2c0cfc2e52acc6199524d5517e3ca022">THERMAL_FLOAT_TO_Q15</a>(t)</td></tr>
<tr class="memdesc:ga2c0cfc2e52acc6199524d5517e3ca022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert temperature from float to Q15 format.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaeda8e8d8c2e6a1efbaacdcc006494774" id="r_gaeda8e8d8c2e6a1efbaacdcc006494774"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaeda8e8d8c2e6a1efbaacdcc006494774">meas_init_system_</a> ()</td></tr>
<tr class="memdesc:gaeda8e8d8c2e6a1efbaacdcc006494774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize measurement system.  <br /></td></tr>
<tr class="memitem:ga7ec30b7794b47ae2138c478f132022d2" id="r_ga7ec30b7794b47ae2138c478f132022d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7ec30b7794b47ae2138c478f132022d2">meas_update_all_q15_</a> (<a class="el" href="struct_s___adc___data___type_def.html">S_Adc_Data_TypeDef</a> *adcbuf)</td></tr>
<tr class="memdesc:ga7ec30b7794b47ae2138c478f132022d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all measurements in Q15 format.  <br /></td></tr>
<tr class="memitem:gab8a9c3244586ea0d412e3e391157fa5e" id="r_gab8a9c3244586ea0d412e3e391157fa5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab8a9c3244586ea0d412e3e391157fa5e">meas_update_all_float_</a> ()</td></tr>
<tr class="memdesc:gab8a9c3244586ea0d412e3e391157fa5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update measurements to float format.  <br /></td></tr>
<tr class="memitem:ga4ae0c65f66d88cf871a9e9ea9292d4dc" id="r_ga4ae0c65f66d88cf871a9e9ea9292d4dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4ae0c65f66d88cf871a9e9ea9292d4dc">meas_calc_average_</a> (<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> *buffer)</td></tr>
<tr class="memdesc:ga4ae0c65f66d88cf871a9e9ea9292d4dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measurement module function implementations.  <br /></td></tr>
<tr class="memitem:gad3f25e3fa1c46f5b1f3207743b9848dc" id="r_gad3f25e3fa1c46f5b1f3207743b9848dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad3f25e3fa1c46f5b1f3207743b9848dc">meas_update_buffer_</a> (<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> *buffer, int size, <a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> new_value)</td></tr>
<tr class="memdesc:gad3f25e3fa1c46f5b1f3207743b9848dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update circular buffer with new value.  <br /></td></tr>
<tr class="memitem:ga612b05e2acbb6f292ed392ffdef3ee58" id="r_ga612b05e2acbb6f292ed392ffdef3ee58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga612b05e2acbb6f292ed392ffdef3ee58">meas_tick_</a> (<a class="el" href="struct_s___meas___update_type_def.html">S_Meas_UpdateTypeDef</a> *meas_ctrl)</td></tr>
<tr class="memdesc:ga612b05e2acbb6f292ed392ffdef3ee58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tick function for measurement averaging control.  <br /></td></tr>
<tr class="memitem:gac11d0b2fe43fdbaf29be8a7885271706" id="r_gac11d0b2fe43fdbaf29be8a7885271706"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac11d0b2fe43fdbaf29be8a7885271706">meas_update_averages_</a> ()</td></tr>
<tr class="memdesc:gac11d0b2fe43fdbaf29be8a7885271706"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update average values for all critical measurements.  <br /></td></tr>
<tr class="memitem:gac06a2da82bba5c606a45dfd7822e187f" id="r_gac06a2da82bba5c606a45dfd7822e187f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac06a2da82bba5c606a45dfd7822e187f">meas_process_update_</a> (<a class="el" href="struct_s___meas___update_type_def.html">S_Meas_UpdateTypeDef</a> *meas_ctrl)</td></tr>
<tr class="memdesc:gac06a2da82bba5c606a45dfd7822e187f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process measurement averaging update if flag set.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga93cbeb6b1222c281b737365e0ffd27d7" id="r_ga93cbeb6b1222c281b737365e0ffd27d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga93cbeb6b1222c281b737365e0ffd27d7">g_thermal_pfc_inst</a></td></tr>
<tr class="memdesc:ga93cbeb6b1222c281b737365e0ffd27d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variables exported by Measurement module.  <br /></td></tr>
<tr class="memitem:ga649965e1259a0dc5aa4b765a9031085a" id="r_ga649965e1259a0dc5aa4b765a9031085a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga649965e1259a0dc5aa4b765a9031085a">g_thermal_llc_inst</a></td></tr>
<tr class="memitem:ga18bc3c28f5ba4c416d5d478719c5d354" id="r_ga18bc3c28f5ba4c416d5d478719c5d354"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga18bc3c28f5ba4c416d5d478719c5d354">g_bat_current_inst</a></td></tr>
<tr class="memitem:ga10f564c2445f40c1d4eea4343860c4fa" id="r_ga10f564c2445f40c1d4eea4343860c4fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga10f564c2445f40c1d4eea4343860c4fa">g_bat_voltage_inst</a></td></tr>
<tr class="memitem:ga4f3011600d0fc9fcff58aa734c4a034e" id="r_ga4f3011600d0fc9fcff58aa734c4a034e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4f3011600d0fc9fcff58aa734c4a034e">g_dc_voltage_inst</a></td></tr>
<tr class="memitem:gaf57285f549d0bbcef5076f1823b4c790" id="r_gaf57285f549d0bbcef5076f1823b4c790"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf57285f549d0bbcef5076f1823b4c790">g_ac_voltage_inst</a></td></tr>
<tr class="memitem:ga06f70b39a76ea8430160d6e9f426a131" id="r_ga06f70b39a76ea8430160d6e9f426a131"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s___meas___update_type_def.html">S_Meas_UpdateTypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga06f70b39a76ea8430160d6e9f426a131">g_meas_ctrl</a></td></tr>
<tr class="memitem:gaaab9e52896184c8414c3629de1ba3880" id="r_gaaab9e52896184c8414c3629de1ba3880"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaab9e52896184c8414c3629de1ba3880">raw</a></td></tr>
<tr class="memitem:ga7785fd76ba58dde8a910ba92b86d676b" id="r_ga7785fd76ba58dde8a910ba92b86d676b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gab5a8fb21a5b3b983d5f54f31614052ea">q15_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7785fd76ba58dde8a910ba92b86d676b">offset</a></td></tr>
<tr class="memitem:ga55252e2b62e5c26b481d4ef9e8d6755d" id="r_ga55252e2b62e5c26b481d4ef9e8d6755d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga55252e2b62e5c26b481d4ef9e8d6755d">scale_factor</a></td></tr>
<tr class="memitem:ga290351ebe405600d3398dcc6d5e02a70" id="r_ga290351ebe405600d3398dcc6d5e02a70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga290351ebe405600d3398dcc6d5e02a70">lpf_alpha</a></td></tr>
<tr class="memitem:ga01e848d4d79b203ec7ca8b976990afbc" id="r_ga01e848d4d79b203ec7ca8b976990afbc"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga01e848d4d79b203ec7ca8b976990afbc">value_f32</a></td></tr>
<tr class="memitem:gaec3ead731a982f49ce75592531df9a95" id="r_gaec3ead731a982f49ce75592531df9a95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaec3ead731a982f49ce75592531df9a95">value_q15</a></td></tr>
<tr class="memitem:ga0ad83a893b3fb181e011d5fe8098e161" id="r_ga0ad83a893b3fb181e011d5fe8098e161"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0ad83a893b3fb181e011d5fe8098e161">high_limit_soft</a></td></tr>
<tr class="memitem:ga9cfbd87e48a392de031ba6cd28e66acf" id="r_ga9cfbd87e48a392de031ba6cd28e66acf"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9cfbd87e48a392de031ba6cd28e66acf">gain_f32</a></td></tr>
<tr class="memitem:gac216a2eaed0c578ec2a6279ee7723ecc" id="r_gac216a2eaed0c578ec2a6279ee7723ecc"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac216a2eaed0c578ec2a6279ee7723ecc">offset_f32</a></td></tr>
<tr class="memitem:ga90cb3a0278489a47122f3857cedb041d" id="r_ga90cb3a0278489a47122f3857cedb041d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga90cb3a0278489a47122f3857cedb041d">calc_method</a></td></tr>
<tr class="memitem:ga9f2ff87b503912febff909af955b9ab4" id="r_ga9f2ff87b503912febff909af955b9ab4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9f2ff87b503912febff909af955b9ab4">avg_value_buffer_q15</a> [<a class="el" href="#gaf70488a52665daeeca8e1500589ba15a">NUMBER_SAMPLE</a>]</td></tr>
<tr class="memitem:ga45cb04050f582f794b0d51d6beaf14d5" id="r_ga45cb04050f582f794b0d51d6beaf14d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga45cb04050f582f794b0d51d6beaf14d5">avg_value_q15</a></td></tr>
<tr class="memitem:ga81b43df06332b4fef558297592bb7ff1" id="r_ga81b43df06332b4fef558297592bb7ff1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga81b43df06332b4fef558297592bb7ff1">period</a></td></tr>
<tr class="memitem:ga51322ddb267b4729d6b5f2bb05d49fff" id="r_ga51322ddb267b4729d6b5f2bb05d49fff"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga51322ddb267b4729d6b5f2bb05d49fff">counter</a></td></tr>
<tr class="memitem:ga97373b7916d388eb61d634014e054dea" id="r_ga97373b7916d388eb61d634014e054dea"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga97373b7916d388eb61d634014e054dea">flgUpdate</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>ADC measurement processing and filtering. </p>
<p>This module provides measurement processing for analog signals including:</p><ul>
<li>Raw ADC value acquisition and scaling</li>
<li>Q15 fixed-point format conversion for efficient computation</li>
<li>Floating-point conversion for human-readable values</li>
<li>Low-pass filtering with configurable cutoff frequencies</li>
<li>Moving average calculation for noise reduction</li>
<li>Dual calculation modes (direct float or Q15-based)</li>
<li>Temperature sensor processing (PFC and LLC)</li>
<li>Battery current and voltage measurement</li>
<li>DC bus and AC input voltage monitoring</li>
</ul>
<dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>August 12, 2025 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>EVSELab Co. Jsc. </dd></dl>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="ga5ff403a86b1b6f0d079b926c3cd6a17d" name="ga5ff403a86b1b6f0d079b926c3cd6a17d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ff403a86b1b6f0d079b926c3cd6a17d">&#9670;&#160;</a></span>AC_VOLTAGE_GAIN_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_VOLTAGE_GAIN_F32&#160;&#160;&#160;-0.005402014f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AC voltage gain for float calculation </p>

</div>
</div>
<a id="gae06328106108b5fbbe4b87b5d14a5e2b" name="gae06328106108b5fbbe4b87b5d14a5e2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae06328106108b5fbbe4b87b5d14a5e2b">&#9670;&#160;</a></span>AC_VOLTAGE_HGIH_LIMIT_SOFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_VOLTAGE_HGIH_LIMIT_SOFT&#160;&#160;&#160;75.0f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Software limit for AC voltage (V) </p>

</div>
</div>
<a id="gaaba8d268402a773c79c8be5c8ebcca5a" name="gaaba8d268402a773c79c8be5c8ebcca5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaba8d268402a773c79c8be5c8ebcca5a">&#9670;&#160;</a></span>AC_VOLTAGE_HIGH_LIMIT_HARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_VOLTAGE_HIGH_LIMIT_HARD&#160;&#160;&#160;100.0f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hardware limit for AC voltage (V) </p>

</div>
</div>
<a id="ga23ee6771cd927869c262321ac1ee7cfc" name="ga23ee6771cd927869c262321ac1ee7cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23ee6771cd927869c262321ac1ee7cfc">&#9670;&#160;</a></span>AC_VOLTAGE_OFFSET_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_VOLTAGE_OFFSET_F32&#160;&#160;&#160;361.787892517f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AC voltage offset for float calculation </p>

</div>
</div>
<a id="ga888029d7a7fff096ae6fc180fc640775" name="ga888029d7a7fff096ae6fc180fc640775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga888029d7a7fff096ae6fc180fc640775">&#9670;&#160;</a></span>AC_VOLTAGE_SCALE_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_VOLTAGE_SCALE_FACTOR&#160;&#160;&#160;(<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>)(<a class="el" href="#gaaba8d268402a773c79c8be5c8ebcca5a">AC_VOLTAGE_HIGH_LIMIT_HARD</a>/<a class="el" href="#gae06328106108b5fbbe4b87b5d14a5e2b">AC_VOLTAGE_HGIH_LIMIT_SOFT</a>*32768.0f + 0.5f)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AC voltage scale factor (Q31) </p>

</div>
</div>
<a id="ga4faee152e84de8e007cce59f2b48b286" name="ga4faee152e84de8e007cce59f2b48b286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4faee152e84de8e007cce59f2b48b286">&#9670;&#160;</a></span>AC_VOLTAGE_STATIC_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_VOLTAGE_STATIC_OFFSET&#160;&#160;&#160;(0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AC voltage static offset </p>

</div>
</div>
<a id="ga2d1a4aea304ac3245de4864f342386a5" name="ga2d1a4aea304ac3245de4864f342386a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d1a4aea304ac3245de4864f342386a5">&#9670;&#160;</a></span>ADC_Q15_SCALING_SHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADC_Q15_SCALING_SHIFT&#160;&#160;&#160;<a class="el" href="#ga00978ca9e8220475258dcbbbb7d29129">ADC_RESOLUTION</a> - 15</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shift amount for Q15 conversion </p>

</div>
</div>
<a id="ga00978ca9e8220475258dcbbbb7d29129" name="ga00978ca9e8220475258dcbbbb7d29129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00978ca9e8220475258dcbbbb7d29129">&#9670;&#160;</a></span>ADC_RESOLUTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADC_RESOLUTION&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Include required header files. </p>
<p>Public constant definitions. </p><dl class="section note"><dt>Note</dt><dd>Measurement processing parameters and calibration constants. ADC resolution in bits </dd></dl>

</div>
</div>
<a id="gac218eaa6c96bc6a94a951f7fe57ffaf5" name="gac218eaa6c96bc6a94a951f7fe57ffaf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac218eaa6c96bc6a94a951f7fe57ffaf5">&#9670;&#160;</a></span>BAT_CURRENT_HIGH_LIMIT_HARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_CURRENT_HIGH_LIMIT_HARD&#160;&#160;&#160;52.55f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hardware limit for battery current (A) </p>

</div>
</div>
<a id="gacd52246a8e750f96fd70de622a034669" name="gacd52246a8e750f96fd70de622a034669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd52246a8e750f96fd70de622a034669">&#9670;&#160;</a></span>BAT_CURRENT_HIGH_LIMIT_SOFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_CURRENT_HIGH_LIMIT_SOFT&#160;&#160;&#160;20.0f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Software limit for battery current (A) </p>

</div>
</div>
<a id="gaaa071ed164bf4e96f469b5c4ac1d638c" name="gaaa071ed164bf4e96f469b5c4ac1d638c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa071ed164bf4e96f469b5c4ac1d638c">&#9670;&#160;</a></span>BAT_CURRENT_SCALE_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_CURRENT_SCALE_FACTOR&#160;&#160;&#160;(<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>)(<a class="el" href="#gac218eaa6c96bc6a94a951f7fe57ffaf5">BAT_CURRENT_HIGH_LIMIT_HARD</a>/<a class="el" href="#gacd52246a8e750f96fd70de622a034669">BAT_CURRENT_HIGH_LIMIT_SOFT</a>*32768.0f + 0.5f)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current scale factor (Q31) </p>

</div>
</div>
<a id="gaf3fb3bb1ca21d5ada6e9a7ca7c1907dd" name="gaf3fb3bb1ca21d5ada6e9a7ca7c1907dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3fb3bb1ca21d5ada6e9a7ca7c1907dd">&#9670;&#160;</a></span>BAT_CURRENT_STATIC_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_CURRENT_STATIC_OFFSET&#160;&#160;&#160;(0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Battery current static offset </p>

</div>
</div>
<a id="gafcf30de43f7120fe55757574f4490fd3" name="gafcf30de43f7120fe55757574f4490fd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafcf30de43f7120fe55757574f4490fd3">&#9670;&#160;</a></span>BAT_VOLTAGE_HIGH_LIMIT_HARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_VOLTAGE_HIGH_LIMIT_HARD&#160;&#160;&#160;109.3547156f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hardware limit for battery voltage (V) </p>

</div>
</div>
<a id="ga097bac9a5eb4dea8f5b0807cc52a3b68" name="ga097bac9a5eb4dea8f5b0807cc52a3b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga097bac9a5eb4dea8f5b0807cc52a3b68">&#9670;&#160;</a></span>BAT_VOLTAGE_HIGH_LIMIT_SOFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_VOLTAGE_HIGH_LIMIT_SOFT&#160;&#160;&#160;95.0f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Software limit for battery voltage (V) </p>

</div>
</div>
<a id="ga54628eee364fce4bfad1ea5eb6673fb2" name="ga54628eee364fce4bfad1ea5eb6673fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54628eee364fce4bfad1ea5eb6673fb2">&#9670;&#160;</a></span>BAT_VOLTAGE_SCALE_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_VOLTAGE_SCALE_FACTOR&#160;&#160;&#160;(<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>)(<a class="el" href="#gafcf30de43f7120fe55757574f4490fd3">BAT_VOLTAGE_HIGH_LIMIT_HARD</a>/<a class="el" href="#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>*32768.0f + 0.5f)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Voltage scale factor (Q31) </p>

</div>
</div>
<a id="ga338f9a492d2d254d2be62985bcb0d45b" name="ga338f9a492d2d254d2be62985bcb0d45b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga338f9a492d2d254d2be62985bcb0d45b">&#9670;&#160;</a></span>BAT_VOLTAGE_STATIC_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_VOLTAGE_STATIC_OFFSET&#160;&#160;&#160;(0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Battery voltage static offset </p>

</div>
</div>
<a id="ga2fd139f13cd4e78633ed94566ed88a5e" name="ga2fd139f13cd4e78633ed94566ed88a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fd139f13cd4e78633ed94566ed88a5e">&#9670;&#160;</a></span>CALC_METHOD_DIRECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALC_METHOD_DIRECT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Direct float calculation method </p>

</div>
</div>
<a id="ga56e3cfe163ad4341e9f5cb2d423e5527" name="ga56e3cfe163ad4341e9f5cb2d423e5527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56e3cfe163ad4341e9f5cb2d423e5527">&#9670;&#160;</a></span>CALC_METHOD_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALC_METHOD_Q15&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Q15 fixed-point calculation method </p>

</div>
</div>
<a id="ga455adf5cb152b427373ffc63d1d4d4ce" name="ga455adf5cb152b427373ffc63d1d4d4ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga455adf5cb152b427373ffc63d1d4d4ce">&#9670;&#160;</a></span>DC_VOLTAGE_HIGH_LIMIT_HARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DC_VOLTAGE_HIGH_LIMIT_HARD&#160;&#160;&#160;109.3547156f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hardware limit for DC voltage (V) </p>

</div>
</div>
<a id="ga9957e5854bd5e64e94951a0efb0c2c69" name="ga9957e5854bd5e64e94951a0efb0c2c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9957e5854bd5e64e94951a0efb0c2c69">&#9670;&#160;</a></span>DC_VOLTAGE_HIGH_LIMIT_SOFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DC_VOLTAGE_HIGH_LIMIT_SOFT&#160;&#160;&#160;95.0f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Software limit for DC voltage (V) </p>

</div>
</div>
<a id="gaa4ec4d063711ad8951e57c3fde88c59f" name="gaa4ec4d063711ad8951e57c3fde88c59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4ec4d063711ad8951e57c3fde88c59f">&#9670;&#160;</a></span>DC_VOLTAGE_SCALE_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DC_VOLTAGE_SCALE_FACTOR&#160;&#160;&#160;(<a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a>)(<a class="el" href="#gafcf30de43f7120fe55757574f4490fd3">BAT_VOLTAGE_HIGH_LIMIT_HARD</a>/<a class="el" href="#ga097bac9a5eb4dea8f5b0807cc52a3b68">BAT_VOLTAGE_HIGH_LIMIT_SOFT</a>*32768.0f + 0.5f)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DC voltage scale factor (Q31) </p>

</div>
</div>
<a id="gaa8148cd6472af9293af1d4c191383fc4" name="gaa8148cd6472af9293af1d4c191383fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8148cd6472af9293af1d4c191383fc4">&#9670;&#160;</a></span>DC_VOLTAGE_STATIC_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DC_VOLTAGE_STATIC_OFFSET&#160;&#160;&#160;(0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DC voltage static offset </p>

</div>
</div>
<a id="gaf6c086114ebb6a0b9cc0cf100b8571d5" name="gaf6c086114ebb6a0b9cc0cf100b8571d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6c086114ebb6a0b9cc0cf100b8571d5">&#9670;&#160;</a></span>LPF_GAIN_001Hz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_001Hz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 1.0f     / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 1 Hz </p>

</div>
</div>
<a id="ga78594fbdc942b34093ee5fc0d090b1dc" name="ga78594fbdc942b34093ee5fc0d090b1dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78594fbdc942b34093ee5fc0d090b1dc">&#9670;&#160;</a></span>LPF_GAIN_010Hz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_010Hz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 10.0f    / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 10 Hz </p>

</div>
</div>
<a id="gaa5ac57fd7b9b8c23f190c665669c16ec" name="gaa5ac57fd7b9b8c23f190c665669c16ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5ac57fd7b9b8c23f190c665669c16ec">&#9670;&#160;</a></span>LPF_GAIN_01kHz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_01kHz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 1000.0f  / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 1 kHz </p>

</div>
</div>
<a id="gadc81313f351db6889e7fd9cdcd2f15be" name="gadc81313f351db6889e7fd9cdcd2f15be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc81313f351db6889e7fd9cdcd2f15be">&#9670;&#160;</a></span>LPF_GAIN_02kHz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_02kHz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 2000.0f  / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 2 kHz </p>

</div>
</div>
<a id="gaa04c6a936cc5e074c3ad740ed9cd8d91" name="gaa04c6a936cc5e074c3ad740ed9cd8d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa04c6a936cc5e074c3ad740ed9cd8d91">&#9670;&#160;</a></span>LPF_GAIN_0_5Hz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_0_5Hz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 0.5f     / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 0.5 Hz </p>

</div>
</div>
<a id="ga014489e5e28d84fc7a2c4cec657f4974" name="ga014489e5e28d84fc7a2c4cec657f4974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga014489e5e28d84fc7a2c4cec657f4974">&#9670;&#160;</a></span>LPF_GAIN_100Hz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_100Hz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 100.0f   / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 100 Hz </p>

</div>
</div>
<a id="ga1eb986adeafd6c682abf5d74c9f894a1" name="ga1eb986adeafd6c682abf5d74c9f894a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1eb986adeafd6c682abf5d74c9f894a1">&#9670;&#160;</a></span>LPF_GAIN_10kHz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_10kHz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 10000.0f / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 10 kHz </p>

</div>
</div>
<a id="ga2664033b34c3c90b073c968acce2d7fa" name="ga2664033b34c3c90b073c968acce2d7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2664033b34c3c90b073c968acce2d7fa">&#9670;&#160;</a></span>LPF_GAIN_200Hz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_200Hz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 200.0f   / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 200 Hz </p>

</div>
</div>
<a id="ga1ca9de5bf392c80548f71598657ae3e8" name="ga1ca9de5bf392c80548f71598657ae3e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ca9de5bf392c80548f71598657ae3e8">&#9670;&#160;</a></span>LPF_GAIN_20kHz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_20kHz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 20000.0f / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 20 kHz </p>

</div>
</div>
<a id="ga34acd14de9f6b082b4c79648ff46e382" name="ga34acd14de9f6b082b4c79648ff46e382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34acd14de9f6b082b4c79648ff46e382">&#9670;&#160;</a></span>LPF_GAIN_500Hz_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPF_GAIN_500Hz_T&#160;&#160;&#160;(1.0f)/(1.0f + 2.0f * <a class="el" href="#ga598a3330b3c21701223ee0ca14316eca">PI</a> * 500.0f   / <a class="el" href="group___m_i_d___g_l_o_b_a_l___d_e_f_i_n_e.html#ga1cfe2190a33d47ef14de12bf18c88dae">FREQ_SAMPLING_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LPF alpha @ 500 Hz </p>

</div>
</div>
<a id="gad569ab711a5fb31deb4a90bcb101e403" name="gad569ab711a5fb31deb4a90bcb101e403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad569ab711a5fb31deb4a90bcb101e403">&#9670;&#160;</a></span>MEAS_AVG_UPDATE_PERIOD_TICKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MEAS_AVG_UPDATE_PERIOD_TICKS&#160;&#160;&#160;200U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Average update period (20 ms @ 10 kHz) </p>

</div>
</div>
<a id="gaf70488a52665daeeca8e1500589ba15a" name="gaf70488a52665daeeca8e1500589ba15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf70488a52665daeeca8e1500589ba15a">&#9670;&#160;</a></span>NUMBER_SAMPLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMBER_SAMPLE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of samples for moving average </p>

</div>
</div>
<a id="ga598a3330b3c21701223ee0ca14316eca" name="ga598a3330b3c21701223ee0ca14316eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga598a3330b3c21701223ee0ca14316eca">&#9670;&#160;</a></span>PI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PI&#160;&#160;&#160;(3.14159265358979323846f)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pi constant </p>

</div>
</div>
<a id="ga18b64507b88f9b541887105cac18eedc" name="ga18b64507b88f9b541887105cac18eedc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18b64507b88f9b541887105cac18eedc">&#9670;&#160;</a></span>SHIFT_BITS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHIFT_BITS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shift bits for division (log2(NUMBER_SAMPLE)) </p>

</div>
</div>
<a id="ga2c0cfc2e52acc6199524d5517e3ca022" name="ga2c0cfc2e52acc6199524d5517e3ca022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c0cfc2e52acc6199524d5517e3ca022">&#9670;&#160;</a></span>THERMAL_FLOAT_TO_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_FLOAT_TO_Q15</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((t-<a class="code hl_define" href="#ga8c2b180a989fa02b93e3ece84730e6bd">THERMAL_LLC_OFFSET_F32</a>)/(2*<a class="code hl_define" href="#ga4ee8daf2e6b01407bbc981d596aecb79">THERMAL_LLC_GAIN_F32</a>))</div>
<div class="ttc" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_html_ga4ee8daf2e6b01407bbc981d596aecb79"><div class="ttname"><a href="#ga4ee8daf2e6b01407bbc981d596aecb79">THERMAL_LLC_GAIN_F32</a></div><div class="ttdeci">#define THERMAL_LLC_GAIN_F32</div><div class="ttdef"><b>Definition</b> mid_measurement_handler.h:96</div></div>
<div class="ttc" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_html_ga8c2b180a989fa02b93e3ece84730e6bd"><div class="ttname"><a href="#ga8c2b180a989fa02b93e3ece84730e6bd">THERMAL_LLC_OFFSET_F32</a></div><div class="ttdeci">#define THERMAL_LLC_OFFSET_F32</div><div class="ttdef"><b>Definition</b> mid_measurement_handler.h:97</div></div>
</div><!-- fragment -->
<p>Convert temperature from float to Q15 format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Temperature in Celsius (float) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Q15 representation of temperature </dd></dl>

</div>
</div>
<a id="ga4ee8daf2e6b01407bbc981d596aecb79" name="ga4ee8daf2e6b01407bbc981d596aecb79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ee8daf2e6b01407bbc981d596aecb79">&#9670;&#160;</a></span>THERMAL_LLC_GAIN_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_LLC_GAIN_F32&#160;&#160;&#160;-0.012160374f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LLC thermal gain (C/ADC) </p>

</div>
</div>
<a id="ga8c2b180a989fa02b93e3ece84730e6bd" name="ga8c2b180a989fa02b93e3ece84730e6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c2b180a989fa02b93e3ece84730e6bd">&#9670;&#160;</a></span>THERMAL_LLC_OFFSET_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_LLC_OFFSET_F32&#160;&#160;&#160;431.6594374f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LLC thermal offset (C) </p>

</div>
</div>
<a id="ga06f58793ac2c7adab63f2431d44a3447" name="ga06f58793ac2c7adab63f2431d44a3447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06f58793ac2c7adab63f2431d44a3447">&#9670;&#160;</a></span>THERMAL_LLC_SCALE_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_LLC_SCALE_FACTOR&#160;&#160;&#160;(0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LLC thermal scale factor (Q31) </p>

</div>
</div>
<a id="gae922cbc27dfde4bd275cfc4677438cc1" name="gae922cbc27dfde4bd275cfc4677438cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae922cbc27dfde4bd275cfc4677438cc1">&#9670;&#160;</a></span>THERMAL_LLC_STATIC_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_LLC_STATIC_OFFSET&#160;&#160;&#160;(0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LLC thermal static offset </p>

</div>
</div>
<a id="ga82f4f60c5ca06dc05e0658f32a252846" name="ga82f4f60c5ca06dc05e0658f32a252846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82f4f60c5ca06dc05e0658f32a252846">&#9670;&#160;</a></span>THERMAL_PFC_GAIN_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_PFC_GAIN_F32&#160;&#160;&#160;-0.012160374f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PFC thermal gain (C/ADC) </p>

</div>
</div>
<a id="ga434948e9dc2838f91cc4e2f5c2a83172" name="ga434948e9dc2838f91cc4e2f5c2a83172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga434948e9dc2838f91cc4e2f5c2a83172">&#9670;&#160;</a></span>THERMAL_PFC_OFFSET_F32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_PFC_OFFSET_F32&#160;&#160;&#160;431.6594374f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PFC thermal offset (C) </p>

</div>
</div>
<a id="gada2a97e6d53578ecee1524a961026a56" name="gada2a97e6d53578ecee1524a961026a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gada2a97e6d53578ecee1524a961026a56">&#9670;&#160;</a></span>THERMAL_PFC_SCALE_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_PFC_SCALE_FACTOR&#160;&#160;&#160;(0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PFC thermal scale factor (Q31) </p>

</div>
</div>
<a id="ga2024ed324ddd83a01d24d047f2374993" name="ga2024ed324ddd83a01d24d047f2374993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2024ed324ddd83a01d24d047f2374993">&#9670;&#160;</a></span>THERMAL_PFC_STATIC_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THERMAL_PFC_STATIC_OFFSET&#160;&#160;&#160;(0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PFC thermal static offset </p>

</div>
</div>
<a id="ga44e359e7ebada8996e9a4e000a118f6a" name="ga44e359e7ebada8996e9a4e000a118f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44e359e7ebada8996e9a4e000a118f6a">&#9670;&#160;</a></span>VAC_FLOAT_TO_Q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VAC_FLOAT_TO_Q15</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((v-<a class="code hl_define" href="#ga23ee6771cd927869c262321ac1ee7cfc">AC_VOLTAGE_OFFSET_F32</a>)/( 2* <a class="code hl_define" href="#ga5ff403a86b1b6f0d079b926c3cd6a17d">AC_VOLTAGE_GAIN_F32</a>))</div>
<div class="ttc" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_html_ga23ee6771cd927869c262321ac1ee7cfc"><div class="ttname"><a href="#ga23ee6771cd927869c262321ac1ee7cfc">AC_VOLTAGE_OFFSET_F32</a></div><div class="ttdeci">#define AC_VOLTAGE_OFFSET_F32</div><div class="ttdef"><b>Definition</b> mid_measurement_handler.h:93</div></div>
<div class="ttc" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_html_ga5ff403a86b1b6f0d079b926c3cd6a17d"><div class="ttname"><a href="#ga5ff403a86b1b6f0d079b926c3cd6a17d">AC_VOLTAGE_GAIN_F32</a></div><div class="ttdeci">#define AC_VOLTAGE_GAIN_F32</div><div class="ttdef"><b>Definition</b> mid_measurement_handler.h:92</div></div>
</div><!-- fragment -->
<p>Public macro definitions. </p>
<p>Convert AC voltage from float to Q15 format. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>AC voltage in volts (float) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Q15 representation of AC voltage </dd></dl>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga4ae0c65f66d88cf871a9e9ea9292d4dc" name="ga4ae0c65f66d88cf871a9e9ea9292d4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ae0c65f66d88cf871a9e9ea9292d4dc">&#9670;&#160;</a></span>meas_calc_average_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> meas_calc_average_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measurement module function implementations. </p>
<p>Calculate moving average of buffer values.</p>
<p>Calculate moving average of buffer values.</p>
<p>Computes average of NUMBER_SAMPLE values in Q15 format. Uses efficient shift-based division: sum &gt;&gt; SHIFT_BITS. Algorithm: sum all samples, then divide by NUMBER_SAMPLE. For NUMBER_SAMPLE=4, SHIFT_BITS=2 (divide by 4 = right shift 2).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Pointer to Q15 value buffer array</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133" title="Unsigned Q15 fixed-point type.">uq15_t</a></td><td>Average value in Q15 format</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Buffer size must match NUMBER_SAMPLE (4 samples). </dd>
<dd>
Shift bits must equal log2(NUMBER_SAMPLE) for correct result.</dd></dl>
<p>Computes average of NUMBER_SAMPLE values in Q15 format. Uses efficient shift-based division (sum &gt;&gt; SHIFT_BITS). Average = (sum of samples) / NUMBER_SAMPLE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Pointer to Q15 value buffer array</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133" title="Unsigned Q15 fixed-point type.">uq15_t</a></td><td>Average value in Q15 format</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Buffer size must match NUMBER_SAMPLE (4 samples). </dd>
<dd>
Shift bits must equal log2(NUMBER_SAMPLE) for correct result. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga4ae0c65f66d88cf871a9e9ea9292d4dc_icgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga4ae0c65f66d88cf871a9e9ea9292d4dc_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga4ae0c65f66d88cf871a9e9ea9292d4dc_icgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga4ae0c65f66d88cf871a9e9ea9292d4dc_icgraph">
<area shape="rect" title="Measurement module function implementations." alt="" coords="712,5,856,32"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac11d0b2fe43fdbaf29be8a7885271706" title="Update average values for all critical measurements." alt="" coords="497,5,664,32"/>
<area shape="poly" title=" " alt="" coords="696,21,664,21,664,16,696,16"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac06a2da82bba5c606a45dfd7822e187f" title="Process measurement averaging update if flag set." alt="" coords="290,5,449,32"/>
<area shape="poly" title=" " alt="" coords="482,21,450,21,450,16,482,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#gaa975937fac78c9e28b50ff05c8325e2f" title="Infinite loop processing for background tasks." alt="" coords="103,5,242,32"/>
<area shape="poly" title=" " alt="" coords="275,21,243,21,243,16,275,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="gaeda8e8d8c2e6a1efbaacdcc006494774" name="gaeda8e8d8c2e6a1efbaacdcc006494774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeda8e8d8c2e6a1efbaacdcc006494774">&#9670;&#160;</a></span>meas_init_system_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meas_init_system_ </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize measurement system. </p>
<p>Measurement module function declarations.</p>
<p>Initializes all measurement instances with appropriate parameters: </p><pre class="fragment">     PFC Thermal Sensor:
     - Method: CALC_METHOD_DIRECT (float)
     - Gain: THERMAL_PFC_GAIN_F32, Offset: THERMAL_PFC_OFFSET_F32

     LLC Thermal Sensor:
     - Method: CALC_METHOD_DIRECT (float)
     - Gain: THERMAL_LLC_GAIN_F32, Offset: THERMAL_LLC_OFFSET_F32

     Battery Current:
     - Method: CALC_METHOD_Q15
     - Scale: BAT_CURRENT_SCALE_FACTOR, LPF: 20kHz
     - Soft limit: 20A

     Battery Voltage:
     - Method: CALC_METHOD_Q15
     - Scale: BAT_VOLTAGE_SCALE_FACTOR, LPF: 20kHz
     - Soft limit: 95V

     DC Bus Voltage:
     - Method: CALC_METHOD_Q15
     - Scale: DC_VOLTAGE_SCALE_FACTOR, LPF: 20kHz
     - Soft limit: 95V

     AC Input Voltage:
     - Method: CALC_METHOD_DIRECT (float)
     - Gain: AC_VOLTAGE_GAIN_F32, Offset: AC_VOLTAGE_OFFSET_F32

     Also configures update structure and initializes AC voltage averaging buffer.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call once during system initialization before main loop.</dd></dl>
<p>Initialize measurement system.</p>
<p>Initializes all measurement instances with appropriate parameters:</p><ul>
<li>Thermal sensors (PFC, LLC): Direct float calculation</li>
<li>Battery current: Q15 method with 20kHz LPF, soft limit 20A</li>
<li>Battery voltage: Q15 method with 20kHz LPF, soft limit 95V</li>
<li>DC bus voltage: Q15 method with 20kHz LPF, soft limit 95V</li>
<li>AC input voltage: Direct float calculation Configures update control structure and initializes averaging buffers.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call once during system initialization before main loop. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gaeda8e8d8c2e6a1efbaacdcc006494774_cgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gaeda8e8d8c2e6a1efbaacdcc006494774_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gaeda8e8d8c2e6a1efbaacdcc006494774_cgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gaeda8e8d8c2e6a1efbaacdcc006494774_cgraph">
<area shape="rect" title="Initialize measurement system." alt="" coords="5,31,140,57"/>
<area shape="rect" href="mid__measurement__handler_8c.html#aecfbba2e55ac8e1591036ef6f6dae1e9" title="Configure measurement update control structure." alt="" coords="198,5,300,32"/>
<area shape="poly" title=" " alt="" coords="140,32,182,26,182,31,140,37"/>
<area shape="rect" href="mid__measurement__handler_8c.html#a72e64b9fe21b4404cf1ec1b550b0d3bc" title="Initialize measurement structure." alt="" coords="188,56,310,83"/>
<area shape="poly" title=" " alt="" coords="140,51,173,56,172,61,140,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gaeda8e8d8c2e6a1efbaacdcc006494774_icgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gaeda8e8d8c2e6a1efbaacdcc006494774_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gaeda8e8d8c2e6a1efbaacdcc006494774_icgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gaeda8e8d8c2e6a1efbaacdcc006494774_icgraph">
<area shape="rect" title="Initialize measurement system." alt="" coords="313,5,447,32"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga92575d106e9621cd83364e7921c16842" title="Global function implementations." alt="" coords="103,5,265,32"/>
<area shape="poly" title=" " alt="" coords="297,21,265,21,265,16,297,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="gac06a2da82bba5c606a45dfd7822e187f" name="gac06a2da82bba5c606a45dfd7822e187f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac06a2da82bba5c606a45dfd7822e187f">&#9670;&#160;</a></span>meas_process_update_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meas_process_update_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___meas___update_type_def.html">S_Meas_UpdateTypeDef</a> *</td>          <td class="paramname"><span class="paramname"><em>meas_ctrl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process measurement averaging update if flag set. </p>
<p>Checks flgUpdate and performs averaging when period elapsed:</p><ol type="1">
<li>Check if flgUpdate == 1 (set by meas_tick_ in ISR)</li>
<li>If true: a. Update float conversions (thermal sensors) b. Update moving averages (AC voltage) c. Clear flgUpdate to 0</li>
<li>If false: return immediately (non-blocking)</li>
</ol>
<p>Should be called repeatedly in main loop, not ISR.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">meas_ctrl</td><td>Pointer to measurement control instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call repeatedly in infinite loop. </dd>
<dd>
Non-blocking: only executes when flgUpdate=1. </dd>
<dd>
Separates time-critical ISR from non-critical averaging.</dd></dl>
<p>Checks flgUpdate and performs averaging when period elapsed:</p><ol type="1">
<li>Update float conversions (thermal only)</li>
<li>Update moving averages (AC voltage)</li>
<li>Clear flag Should be called in main loop, not ISR.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">meas_ctrl</td><td>Pointer to measurement control instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call repeatedly in infinite loop. </dd>
<dd>
Non-blocking: only executes when flgUpdate=1. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac06a2da82bba5c606a45dfd7822e187f_cgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac06a2da82bba5c606a45dfd7822e187f_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac06a2da82bba5c606a45dfd7822e187f_cgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac06a2da82bba5c606a45dfd7822e187f_cgraph">
<area shape="rect" title="Process measurement averaging update if flag set." alt="" coords="5,31,165,57"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gab8a9c3244586ea0d412e3e391157fa5e" title="Update measurements to float format." alt="" coords="217,5,375,32"/>
<area shape="poly" title=" " alt="" coords="165,32,201,27,201,33,165,37"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac11d0b2fe43fdbaf29be8a7885271706" title="Update average values for all critical measurements." alt="" coords="213,56,379,83"/>
<area shape="poly" title=" " alt="" coords="165,51,197,55,197,60,165,56"/>
<area shape="rect" href="mid__measurement__handler_8c.html#a60b8a41f4a3ae79e98e3bf64b24b4779" title="Convert to human&#45;readable float format." alt="" coords="427,5,580,32"/>
<area shape="poly" title=" " alt="" coords="375,16,411,16,411,21,375,21"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga4ae0c65f66d88cf871a9e9ea9292d4dc" title="Measurement module function implementations." alt="" coords="432,56,576,83"/>
<area shape="poly" title=" " alt="" coords="379,67,416,67,416,72,379,72"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gad3f25e3fa1c46f5b1f3207743b9848dc" title="Update circular buffer with new value." alt="" coords="431,107,576,133"/>
<area shape="poly" title=" " alt="" coords="354,81,432,100,431,105,353,86"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac06a2da82bba5c606a45dfd7822e187f_icgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac06a2da82bba5c606a45dfd7822e187f_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac06a2da82bba5c606a45dfd7822e187f_icgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac06a2da82bba5c606a45dfd7822e187f_icgraph">
<area shape="rect" title="Process measurement averaging update if flag set." alt="" coords="290,5,449,32"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#gaa975937fac78c9e28b50ff05c8325e2f" title="Infinite loop processing for background tasks." alt="" coords="103,5,242,32"/>
<area shape="poly" title=" " alt="" coords="275,21,243,21,243,16,275,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ga612b05e2acbb6f292ed392ffdef3ee58" name="ga612b05e2acbb6f292ed392ffdef3ee58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga612b05e2acbb6f292ed392ffdef3ee58">&#9670;&#160;</a></span>meas_tick_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meas_tick_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___meas___update_type_def.html">S_Meas_UpdateTypeDef</a> *</td>          <td class="paramname"><span class="paramname"><em>meas_ctrl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tick function for measurement averaging control. </p>
<p>Increments counter and sets update flag when period reached:</p><ol type="1">
<li>Increment counter every call (every sampling period)</li>
<li>If counter &gt;= period (200 ticks = 20ms @ 10kHz): a. Set flgUpdate = 1 (signal main loop to process) b. Reset counter = 0</li>
<li>Return (very fast, suitable for ISR)</li>
</ol>
<p>Should be called every sampling period in ISR (10kHz).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">meas_ctrl</td><td>Pointer to measurement control instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call in main sampling interrupt (10kHz). </dd>
<dd>
Sets flgUpdate=1 every MEAS_AVG_UPDATE_PERIOD_TICKS (200 = 20ms). </dd>
<dd>
Minimal ISR overhead: just increment and compare.</dd></dl>
<p>Increments counter and sets update flag when period reached. Counter resets to 0 after flag set. Should be called every sampling period in ISR.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">meas_ctrl</td><td>Pointer to measurement control instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call in main sampling interrupt (10kHz). </dd>
<dd>
Sets flgUpdate=1 every MEAS_AVG_UPDATE_PERIOD_TICKS (200 = 20ms). </dd></dl>

</div>
</div>
<a id="gab8a9c3244586ea0d412e3e391157fa5e" name="gab8a9c3244586ea0d412e3e391157fa5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab8a9c3244586ea0d412e3e391157fa5e">&#9670;&#160;</a></span>meas_update_all_float_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meas_update_all_float_ </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update measurements to float format. </p>
<p>Converts Q15 or raw values to human-readable float format. Currently active channels:</p><ul>
<li>PFC thermal sensor (CALC_METHOD_DIRECT: raw * gain + offset)</li>
<li>LLC thermal sensor (CALC_METHOD_DIRECT: raw * gain + offset)</li>
</ul>
<p>Commented out channels (remain in Q15 for control efficiency):</p><ul>
<li>Battery current</li>
<li>Battery voltage</li>
<li>DC voltage</li>
<li>AC voltage</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call periodically (e.g., every 20ms) when float values needed. </dd>
<dd>
Thermal values for monitoring/display, not real-time control.</dd></dl>
<p>Converts Q15 or raw values to human-readable float format. Currently only updates thermal sensors (PFC and LLC). Other measurements remain in Q15 for efficient control loops.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call periodically when float values needed for display or logging. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gab8a9c3244586ea0d412e3e391157fa5e_cgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gab8a9c3244586ea0d412e3e391157fa5e_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gab8a9c3244586ea0d412e3e391157fa5e_cgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gab8a9c3244586ea0d412e3e391157fa5e_cgraph">
<area shape="rect" title="Update measurements to float format." alt="" coords="5,5,164,32"/>
<area shape="rect" href="mid__measurement__handler_8c.html#a60b8a41f4a3ae79e98e3bf64b24b4779" title="Convert to human&#45;readable float format." alt="" coords="212,5,365,32"/>
<area shape="poly" title=" " alt="" coords="164,16,196,16,196,21,164,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gab8a9c3244586ea0d412e3e391157fa5e_icgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gab8a9c3244586ea0d412e3e391157fa5e_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gab8a9c3244586ea0d412e3e391157fa5e_icgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gab8a9c3244586ea0d412e3e391157fa5e_icgraph">
<area shape="rect" title="Update measurements to float format." alt="" coords="497,5,656,32"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac06a2da82bba5c606a45dfd7822e187f" title="Process measurement averaging update if flag set." alt="" coords="290,5,449,32"/>
<area shape="poly" title=" " alt="" coords="482,21,450,21,450,16,482,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#gaa975937fac78c9e28b50ff05c8325e2f" title="Infinite loop processing for background tasks." alt="" coords="103,5,242,32"/>
<area shape="poly" title=" " alt="" coords="275,21,243,21,243,16,275,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ga7ec30b7794b47ae2138c478f132022d2" name="ga7ec30b7794b47ae2138c478f132022d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ec30b7794b47ae2138c478f132022d2">&#9670;&#160;</a></span>meas_update_all_q15_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meas_update_all_q15_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s___adc___data___type_def.html">S_Adc_Data_TypeDef</a> *</td>          <td class="paramname"><span class="paramname"><em>adcbuf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update all measurements in Q15 format. </p>
<p>Reads ADC buffer and processes all channels:</p><ol type="1">
<li>Get ADC results from buffer (DMA transfer complete)</li>
<li>Set raw values for all 6 channels:<ul>
<li>Battery current (ADC_current_bat)</li>
<li>Battery voltage (ADC_voltage_bat)</li>
<li>DC bus voltage (ADC_voltage_out)</li>
<li>AC input voltage (ADC_vac)</li>
<li>PFC thermal (ADC_thermal_pfc)</li>
<li>LLC thermal (ADC_thermal_llc)</li>
</ul>
</li>
<li>Convert all to Q15 format (scaled or direct based on method)</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcbuf</td><td>Pointer to ADC data buffer containing raw values</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call in main sampling interrupt (10kHz) after ADC conversion complete. </dd>
<dd>
Q15 values immediately available for control loops after this call.</dd></dl>
<p>Reads ADC buffer values and converts them to Q15 format for:</p><ul>
<li>Battery current</li>
<li>Battery voltage</li>
<li>DC bus voltage</li>
<li>AC input voltage</li>
<li>PFC thermal sensor</li>
<li>LLC thermal sensor Each value is scaled according to its configured method.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcbuf</td><td>Pointer to ADC data buffer containing raw values</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call in main sampling interrupt (typically 10kHz) after ADC conversion complete. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga7ec30b7794b47ae2138c478f132022d2_cgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga7ec30b7794b47ae2138c478f132022d2_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga7ec30b7794b47ae2138c478f132022d2_cgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga7ec30b7794b47ae2138c478f132022d2_cgraph">
<area shape="rect" title="Update all measurements in Q15 format." alt="" coords="5,56,160,83"/>
<area shape="rect" href="group___d_r_v___a_d_c.html#ga5bff6d15fc0bf77d4b07f54700f4c434" title="Read and process ADC conversion results." alt="" coords="229,5,342,32"/>
<area shape="poly" title=" " alt="" coords="139,53,214,34,215,39,140,58"/>
<area shape="rect" href="mid__measurement__handler_8c.html#abfe051fb6eeef8a004f7a56dcdb1a0ef" title="Convert raw ADC value to Q15 format." alt="" coords="208,56,364,83"/>
<area shape="poly" title=" " alt="" coords="160,67,193,67,193,72,160,72"/>
<area shape="rect" href="mid__measurement__handler_8c.html#a79486749f0f8934f861610a7c7005b63" title="Set raw ADC value in measurement structure." alt="" coords="210,107,362,133"/>
<area shape="poly" title=" " alt="" coords="140,81,215,100,214,105,139,86"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga7ec30b7794b47ae2138c478f132022d2_icgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga7ec30b7794b47ae2138c478f132022d2_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga7ec30b7794b47ae2138c478f132022d2_icgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_ga7ec30b7794b47ae2138c478f132022d2_icgraph">
<area shape="rect" title="Update all measurements in Q15 format." alt="" coords="365,5,519,32"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#ga45b2b0ff3f21c7abe00874a5057a0efd" title="Main interrupt service routine for real&#45;time control." alt="" coords="142,5,317,32"/>
<area shape="poly" title=" " alt="" coords="349,21,317,21,317,16,349,16"/>
<area shape="rect" href="main_8c.html#a4665d4e1d5fea2d34089d4e50a763751" title=" " alt="" coords="5,5,94,32"/>
<area shape="poly" title=" " alt="" coords="126,21,94,21,94,16,126,16"/>
</map>
</div>

</div>
</div>
<a id="gac11d0b2fe43fdbaf29be8a7885271706" name="gac11d0b2fe43fdbaf29be8a7885271706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac11d0b2fe43fdbaf29be8a7885271706">&#9670;&#160;</a></span>meas_update_averages_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meas_update_averages_ </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update average values for all critical measurements. </p>
<p>Updates circular buffers and calculates moving averages. </p><pre class="fragment">     Currently active:
     - AC voltage: moving average for stable grid voltage measurement

     Commented out (can be enabled if needed):
     - LLC thermal sensor
     - PFC thermal sensor
     - Battery current
     - DC bus voltage

     Process for each active channel:
     1. Update buffer: shift old values, insert new value
     2. Calculate average: sum all samples and divide by NUMBER_SAMPLE
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Called every averaging period (20ms) when flgUpdate set. </dd>
<dd>
Averages used for control and protection decisions.</dd></dl>
<p>Updates circular buffers and calculates moving averages for:</p><ul>
<li>AC voltage (active)</li>
<li>Thermal sensors (commented out)</li>
<li>Battery current (commented out)</li>
<li>DC voltage (commented out) Averages used for control and protection decisions.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Called every averaging period (20ms) when flgUpdate set. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac11d0b2fe43fdbaf29be8a7885271706_cgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac11d0b2fe43fdbaf29be8a7885271706_cgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac11d0b2fe43fdbaf29be8a7885271706_cgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac11d0b2fe43fdbaf29be8a7885271706_cgraph">
<area shape="rect" title="Update average values for all critical measurements." alt="" coords="5,31,172,57"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#ga4ae0c65f66d88cf871a9e9ea9292d4dc" title="Measurement module function implementations." alt="" coords="220,5,364,32"/>
<area shape="poly" title=" " alt="" coords="172,31,205,27,205,32,173,36"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gad3f25e3fa1c46f5b1f3207743b9848dc" title="Update circular buffer with new value." alt="" coords="220,56,365,83"/>
<area shape="poly" title=" " alt="" coords="173,52,205,56,204,61,172,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac11d0b2fe43fdbaf29be8a7885271706_icgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac11d0b2fe43fdbaf29be8a7885271706_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac11d0b2fe43fdbaf29be8a7885271706_icgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gac11d0b2fe43fdbaf29be8a7885271706_icgraph">
<area shape="rect" title="Update average values for all critical measurements." alt="" coords="497,5,664,32"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac06a2da82bba5c606a45dfd7822e187f" title="Process measurement averaging update if flag set." alt="" coords="290,5,449,32"/>
<area shape="poly" title=" " alt="" coords="482,21,450,21,450,16,482,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#gaa975937fac78c9e28b50ff05c8325e2f" title="Infinite loop processing for background tasks." alt="" coords="103,5,242,32"/>
<area shape="poly" title=" " alt="" coords="275,21,243,21,243,16,275,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="gad3f25e3fa1c46f5b1f3207743b9848dc" name="gad3f25e3fa1c46f5b1f3207743b9848dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3f25e3fa1c46f5b1f3207743b9848dc">&#9670;&#160;</a></span>meas_update_buffer_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meas_update_buffer_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a></td>          <td class="paramname"><span class="paramname"><em>new_value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update circular buffer with new value. </p>
<p>Implements FIFO buffer behavior for moving average:</p><ol type="1">
<li>Shift all elements left by one position (discard oldest)</li>
<li>Insert new value at end position Implementation: buffer[i] = buffer[i+1] for i=0..size-2, then buffer[size-1] = new_value.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buffer</td><td>Pointer to buffer array to update </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Buffer size (number of elements) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_value</td><td>New Q15 value to insert at end</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Typically called every averaging period (e.g., 20ms). </dd>
<dd>
Oldest value (buffer[0]) is discarded.</dd></dl>
<p>Shifts all elements left (discarding oldest) and inserts new value at end. Maintains FIFO behavior for moving average. Implementation: buffer[i] = buffer[i+1] for i=0..size-2, then buffer[size-1] = new_value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buffer</td><td>Pointer to buffer array to update </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Buffer size (number of elements) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_value</td><td>New Q15 value to insert</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Typically called every averaging period (e.g., 20ms). </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gad3f25e3fa1c46f5b1f3207743b9848dc_icgraph.png" border="0" usemap="#agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gad3f25e3fa1c46f5b1f3207743b9848dc_icgraph" loading="lazy" alt=""/></div>
<map name="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gad3f25e3fa1c46f5b1f3207743b9848dc_icgraph" id="agroup___m_i_d___m_e_a_s_u_r_e_m_e_n_t_gad3f25e3fa1c46f5b1f3207743b9848dc_icgraph">
<area shape="rect" title="Update circular buffer with new value." alt="" coords="712,5,857,32"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac11d0b2fe43fdbaf29be8a7885271706" title="Update average values for all critical measurements." alt="" coords="497,5,664,32"/>
<area shape="poly" title=" " alt="" coords="696,21,664,21,664,16,696,16"/>
<area shape="rect" href="group___m_i_d___m_e_a_s_u_r_e_m_e_n_t.html#gac06a2da82bba5c606a45dfd7822e187f" title="Process measurement averaging update if flag set." alt="" coords="290,5,449,32"/>
<area shape="poly" title=" " alt="" coords="482,21,450,21,450,16,482,16"/>
<area shape="rect" href="group___a_p_p___l_a_d_y_b_u_g.html#gaa975937fac78c9e28b50ff05c8325e2f" title="Infinite loop processing for background tasks." alt="" coords="103,5,242,32"/>
<area shape="poly" title=" " alt="" coords="275,21,243,21,243,16,275,16"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="ga9f2ff87b503912febff909af955b9ab4" name="ga9f2ff87b503912febff909af955b9ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f2ff87b503912febff909af955b9ab4">&#9670;&#160;</a></span>avg_value_buffer_q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> avg_value_buffer_q15[<a class="el" href="#gaf70488a52665daeeca8e1500589ba15a">NUMBER_SAMPLE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Circular buffer for moving average (Q15 values) </p>

</div>
</div>
<a id="ga45cb04050f582f794b0d51d6beaf14d5" name="ga45cb04050f582f794b0d51d6beaf14d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45cb04050f582f794b0d51d6beaf14d5">&#9670;&#160;</a></span>avg_value_q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> avg_value_q15</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculated average value in Q15 format </p>

</div>
</div>
<a id="ga90cb3a0278489a47122f3857cedb041d" name="ga90cb3a0278489a47122f3857cedb041d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90cb3a0278489a47122f3857cedb041d">&#9670;&#160;</a></span>calc_method</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t calc_method</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculation method selector: CALC_METHOD_DIRECT or CALC_METHOD_Q15 </p>

</div>
</div>
<a id="ga51322ddb267b4729d6b5f2bb05d49fff" name="ga51322ddb267b4729d6b5f2bb05d49fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51322ddb267b4729d6b5f2bb05d49fff">&#9670;&#160;</a></span>counter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t counter</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current tick counter </p>

</div>
</div>
<a id="ga97373b7916d388eb61d634014e054dea" name="ga97373b7916d388eb61d634014e054dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97373b7916d388eb61d634014e054dea">&#9670;&#160;</a></span>flgUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t flgUpdate</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update flag: 1 when period elapsed, 0 otherwise </p>

</div>
</div>
<a id="gaf57285f549d0bbcef5076f1823b4c790" name="gaf57285f549d0bbcef5076f1823b4c790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf57285f549d0bbcef5076f1823b4c790">&#9670;&#160;</a></span>g_ac_voltage_inst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a> g_ac_voltage_inst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>AC input voltage measurement instance </p>

</div>
</div>
<a id="ga18bc3c28f5ba4c416d5d478719c5d354" name="ga18bc3c28f5ba4c416d5d478719c5d354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18bc3c28f5ba4c416d5d478719c5d354">&#9670;&#160;</a></span>g_bat_current_inst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a> g_bat_current_inst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Battery current measurement instance </p>

</div>
</div>
<a id="ga10f564c2445f40c1d4eea4343860c4fa" name="ga10f564c2445f40c1d4eea4343860c4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10f564c2445f40c1d4eea4343860c4fa">&#9670;&#160;</a></span>g_bat_voltage_inst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a> g_bat_voltage_inst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Battery voltage measurement instance </p>

</div>
</div>
<a id="ga4f3011600d0fc9fcff58aa734c4a034e" name="ga4f3011600d0fc9fcff58aa734c4a034e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f3011600d0fc9fcff58aa734c4a034e">&#9670;&#160;</a></span>g_dc_voltage_inst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a> g_dc_voltage_inst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>DC bus voltage measurement instance </p>

</div>
</div>
<a id="ga06f70b39a76ea8430160d6e9f426a131" name="ga06f70b39a76ea8430160d6e9f426a131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06f70b39a76ea8430160d6e9f426a131">&#9670;&#160;</a></span>g_meas_ctrl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___meas___update_type_def.html">S_Meas_UpdateTypeDef</a> g_meas_ctrl</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Measurement update control instance </p>

</div>
</div>
<a id="ga649965e1259a0dc5aa4b765a9031085a" name="ga649965e1259a0dc5aa4b765a9031085a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga649965e1259a0dc5aa4b765a9031085a">&#9670;&#160;</a></span>g_thermal_llc_inst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a> g_thermal_llc_inst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>LLC thermal sensor measurement instance </p>

</div>
</div>
<a id="ga93cbeb6b1222c281b737365e0ffd27d7" name="ga93cbeb6b1222c281b737365e0ffd27d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93cbeb6b1222c281b737365e0ffd27d7">&#9670;&#160;</a></span>g_thermal_pfc_inst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s___meas___type_def.html">S_Meas_TypeDef</a> g_thermal_pfc_inst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global variables exported by Measurement module. </p>
<p>PFC thermal sensor measurement instance</p>
<p>Global variables exported by Measurement module.</p>
<p>Global variables with module-wide scope. PFC thermal sensor measurement instance </p>

</div>
</div>
<a id="ga9cfbd87e48a392de031ba6cd28e66acf" name="ga9cfbd87e48a392de031ba6cd28e66acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9cfbd87e48a392de031ba6cd28e66acf">&#9670;&#160;</a></span>gain_f32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gain_f32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gain value for direct float calculation (physical_units/ADC_count) </p>

</div>
</div>
<a id="ga0ad83a893b3fb181e011d5fe8098e161" name="ga0ad83a893b3fb181e011d5fe8098e161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ad83a893b3fb181e011d5fe8098e161">&#9670;&#160;</a></span>high_limit_soft</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> high_limit_soft</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Software high limit for normalization </p>

</div>
</div>
<a id="ga290351ebe405600d3398dcc6d5e02a70" name="ga290351ebe405600d3398dcc6d5e02a70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga290351ebe405600d3398dcc6d5e02a70">&#9670;&#160;</a></span>lpf_alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> lpf_alpha</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Low-pass filter coefficient (0-32767 in Q15) </p>

</div>
</div>
<a id="ga7785fd76ba58dde8a910ba92b86d676b" name="ga7785fd76ba58dde8a910ba92b86d676b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7785fd76ba58dde8a910ba92b86d676b">&#9670;&#160;</a></span>offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gab5a8fb21a5b3b983d5f54f31614052ea">q15_t</a> offset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calibration offset in Q15 format </p>

</div>
</div>
<a id="gac216a2eaed0c578ec2a6279ee7723ecc" name="gac216a2eaed0c578ec2a6279ee7723ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac216a2eaed0c578ec2a6279ee7723ecc">&#9670;&#160;</a></span>offset_f32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float offset_f32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset value for direct float calculation (physical_units) </p>

</div>
</div>
<a id="ga81b43df06332b4fef558297592bb7ff1" name="ga81b43df06332b4fef558297592bb7ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81b43df06332b4fef558297592bb7ff1">&#9670;&#160;</a></span>period</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t period</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update period in sampling ticks (e.g., 200 = 20ms @ 10kHz) </p>

</div>
</div>
<a id="gaaab9e52896184c8414c3629de1ba3880" name="gaaab9e52896184c8414c3629de1ba3880"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaab9e52896184c8414c3629de1ba3880">&#9670;&#160;</a></span>raw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> raw</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Raw ADC value (16-bit), used for debugging </p>

</div>
</div>
<a id="ga55252e2b62e5c26b481d4ef9e8d6755d" name="ga55252e2b62e5c26b481d4ef9e8d6755d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55252e2b62e5c26b481d4ef9e8d6755d">&#9670;&#160;</a></span>scale_factor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#gae234d17b50fa96668860a592a5c9f21c">uq31_t</a> scale_factor</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scaling factor in Q31 format for unit conversion </p>

</div>
</div>
<a id="ga01e848d4d79b203ec7ca8b976990afbc" name="ga01e848d4d79b203ec7ca8b976990afbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01e848d4d79b203ec7ca8b976990afbc">&#9670;&#160;</a></span>value_f32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float value_f32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Real physical value (float) </p>

</div>
</div>
<a id="gaec3ead731a982f49ce75592531df9a95" name="gaec3ead731a982f49ce75592531df9a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec3ead731a982f49ce75592531df9a95">&#9670;&#160;</a></span>value_q15</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___m_i_d___i_q_m_a_t_h.html#ga55906e8b053ee88e948b8eeb71513133">uq15_t</a> value_q15</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normalized value in Q15 format </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
